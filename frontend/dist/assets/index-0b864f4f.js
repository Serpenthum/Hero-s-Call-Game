var wd=Object.defineProperty;var kd=(e,t,n)=>t in e?wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pr=(e,t,n)=>(kd(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ya={exports:{}},$s={},Ka={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),_d=Symbol.for("react.provider"),Td=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),Ad=Symbol.for("react.suspense"),Rd=Symbol.for("react.memo"),Id=Symbol.for("react.lazy"),Ro=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=Ro&&e[Ro]||e["@@iterator"],typeof e=="function"?e:null)}var qa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xa=Object.assign,Ja={};function In(e,t,n){this.props=e,this.context=t,this.refs=Ja,this.updater=n||qa}In.prototype.isReactComponent={};In.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};In.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ec(){}ec.prototype=In.prototype;function Tl(e,t,n){this.props=e,this.context=t,this.refs=Ja,this.updater=n||qa}var Pl=Tl.prototype=new ec;Pl.constructor=Tl;Xa(Pl,In.prototype);Pl.isPureReactComponent=!0;var Io=Array.isArray,tc=Object.prototype.hasOwnProperty,Al={current:null},nc={key:!0,ref:!0,__self:!0,__source:!0};function rc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tc.call(t,r)&&!nc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),g=0;g<a;g++)c[g]=arguments[g+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Sr,type:e,key:i,ref:o,props:s,_owner:Al.current}}function bd(e,t){return{$$typeof:Sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sr}function $d(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lo=/\/+/g;function ei(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$d(""+e.key):t.toString(36)}function Yr(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sr:case Nd:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ei(o,0):r,Io(s)?(n="",e!=null&&(n=e.replace(Lo,"$&/")+"/"),Yr(s,t,n,"",function(g){return g})):s!=null&&(Rl(s)&&(s=bd(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Io(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ei(i,a);o+=Yr(i,t,n,c,s)}else if(c=Ld(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ei(i,a++),o+=Yr(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ar(e,t,n){if(e==null)return e;var r=[],s=0;return Yr(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Od(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Kr={transition:null},Dd={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:Al};function sc(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Ar,forEach:function(e,t,n){Ar(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ar(e,function(){t++}),t},toArray:function(e){return Ar(e,function(t){return t})||[]},only:function(e){if(!Rl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=In;Y.Fragment=jd;Y.Profiler=Ed;Y.PureComponent=Tl;Y.StrictMode=Cd;Y.Suspense=Ad;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dd;Y.act=sc;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xa({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)tc.call(t,c)&&!nc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var g=0;g<c;g++)a[g]=arguments[g+2];r.children=a}return{$$typeof:Sr,type:e.type,key:s,ref:i,props:r,_owner:o}};Y.createContext=function(e){return e={$$typeof:Td,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_d,_context:e},e.Consumer=e};Y.createElement=rc;Y.createFactory=function(e){var t=rc.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Pd,render:e}};Y.isValidElement=Rl;Y.lazy=function(e){return{$$typeof:Id,_payload:{_status:-1,_result:e},_init:Od}};Y.memo=function(e,t){return{$$typeof:Rd,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Kr.transition;Kr.transition={};try{e()}finally{Kr.transition=t}};Y.unstable_act=sc;Y.useCallback=function(e,t){return Pe.current.useCallback(e,t)};Y.useContext=function(e){return Pe.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Pe.current.useEffect(e,t)};Y.useId=function(){return Pe.current.useId()};Y.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Pe.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};Y.useRef=function(e){return Pe.current.useRef(e)};Y.useState=function(e){return Pe.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return Pe.current.useTransition()};Y.version="18.3.1";Ka.exports=Y;var D=Ka.exports;const Md=Sd(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=D,Bd=Symbol.for("react.element"),zd=Symbol.for("react.fragment"),Fd=Object.prototype.hasOwnProperty,Ud=Hd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wd={key:!0,ref:!0,__self:!0,__source:!0};function ic(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Fd.call(t,r)&&!Wd.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Bd,type:e,key:i,ref:o,props:s,_owner:Ud.current}}$s.Fragment=zd;$s.jsx=ic;$s.jsxs=ic;Ya.exports=$s;var l=Ya.exports,Pi={},lc={exports:{}},Be={},oc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(u,y){var N=u.length;u.push(y);e:for(;0<N;){var H=N-1>>>1,W=u[H];if(0<s(W,y))u[H]=y,u[N]=W,N=H;else break e}}function n(u){return u.length===0?null:u[0]}function r(u){if(u.length===0)return null;var y=u[0],N=u.pop();if(N!==y){u[0]=N;e:for(var H=0,W=u.length,Z=W>>>1;H<Z;){var G=2*(H+1)-1,I=u[G],A=G+1,F=u[A];if(0>s(I,N))A<W&&0>s(F,I)?(u[H]=F,u[A]=N,H=A):(u[H]=I,u[G]=N,H=G);else if(A<W&&0>s(F,N))u[H]=F,u[A]=N,H=A;else break e}}return y}function s(u,y){var N=u.sortIndex-y.sortIndex;return N!==0?N:u.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],g=[],v=1,x=null,w=3,E=!1,T=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(u){for(var y=n(g);y!==null;){if(y.callback===null)r(g);else if(y.startTime<=u)r(g),y.sortIndex=y.expirationTime,t(c,y);else break;y=n(g)}}function k(u){if(P=!1,m(u),!T)if(n(c)!==null)T=!0,_(L);else{var y=n(g);y!==null&&b(k,y.startTime-u)}}function L(u,y){T=!1,P&&(P=!1,h(B),B=-1),E=!0;var N=w;try{for(m(y),x=n(c);x!==null&&(!(x.expirationTime>y)||u&&!C());){var H=x.callback;if(typeof H=="function"){x.callback=null,w=x.priorityLevel;var W=H(x.expirationTime<=y);y=e.unstable_now(),typeof W=="function"?x.callback=W:x===n(c)&&r(c),m(y)}else r(c);x=n(c)}if(x!==null)var Z=!0;else{var G=n(g);G!==null&&b(k,G.startTime-y),Z=!1}return Z}finally{x=null,w=N,E=!1}}var $=!1,O=null,B=-1,U=5,Q=-1;function C(){return!(e.unstable_now()-Q<U)}function f(){if(O!==null){var u=e.unstable_now();Q=u;var y=!0;try{y=O(!0,u)}finally{y?j():($=!1,O=null)}}else $=!1}var j;if(typeof d=="function")j=function(){d(f)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,p=S.port2;S.port1.onmessage=f,j=function(){p.postMessage(null)}}else j=function(){M(f,0)};function _(u){O=u,$||($=!0,j())}function b(u,y){B=M(function(){u(e.unstable_now())},y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(u){u.callback=null},e.unstable_continueExecution=function(){T||E||(T=!0,_(L))},e.unstable_forceFrameRate=function(u){0>u||125<u?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<u?Math.floor(1e3/u):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(u){switch(w){case 1:case 2:case 3:var y=3;break;default:y=w}var N=w;w=y;try{return u()}finally{w=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(u,y){switch(u){case 1:case 2:case 3:case 4:case 5:break;default:u=3}var N=w;w=u;try{return y()}finally{w=N}},e.unstable_scheduleCallback=function(u,y,N){var H=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?H+N:H):N=H,u){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,u={id:v++,callback:y,priorityLevel:u,startTime:N,expirationTime:W,sortIndex:-1},N>H?(u.sortIndex=N,t(g,u),n(c)===null&&u===n(g)&&(P?(h(B),B=-1):P=!0,b(k,N-H))):(u.sortIndex=W,t(c,u),T||E||(T=!0,_(L))),u},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(u){var y=w;return function(){var N=w;w=y;try{return u.apply(this,arguments)}finally{w=N}}}})(ac);oc.exports=ac;var Vd=oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=D,He=Vd;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cc=new Set,ir={};function rn(e,t){Cn(e,t),Cn(e+"Capture",t)}function Cn(e,t){for(ir[e]=t,e=0;e<t.length;e++)cc.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=Object.prototype.hasOwnProperty,Zd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bo={},$o={};function Gd(e){return Ai.call($o,e)?!0:Ai.call(bo,e)?!1:Zd.test(e)?$o[e]=!0:(bo[e]=!0,!1)}function Yd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kd(e,t,n,r){if(t===null||typeof t>"u"||Yd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function Ll(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Il,Ll);we[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Il,Ll);we[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Il,Ll);we[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,n,r){var s=we.hasOwnProperty(t)?we[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kd(t,n,s,r)&&(n=null),r||s===null?Gd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var St=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rr=Symbol.for("react.element"),on=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),Ri=Symbol.for("react.profiler"),uc=Symbol.for("react.provider"),dc=Symbol.for("react.context"),Ol=Symbol.for("react.forward_ref"),Ii=Symbol.for("react.suspense"),Li=Symbol.for("react.suspense_list"),Dl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),Oo=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=Oo&&e[Oo]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ti;function Vn(e){if(ti===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ti=t&&t[1]||""}return`
`+ti+e}var ni=!1;function ri(e,t){if(!e||ni)return"";ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ni=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vn(e):""}function qd(e){switch(e.tag){case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 2:case 15:return e=ri(e.type,!1),e;case 11:return e=ri(e.type.render,!1),e;case 1:return e=ri(e.type,!0),e;default:return""}}function bi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case an:return"Fragment";case on:return"Portal";case Ri:return"Profiler";case $l:return"StrictMode";case Ii:return"Suspense";case Li:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dc:return(e.displayName||"Context")+".Consumer";case uc:return(e._context.displayName||"Context")+".Provider";case Ol:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dl:return t=e.displayName||null,t!==null?t:bi(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return bi(e(t))}catch{}}return null}function Xd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bi(t);case 8:return t===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jd(e){var t=hc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ir(e){e._valueTracker||(e._valueTracker=Jd(e))}function pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $i(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Do(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mc(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function Oi(e,t){mc(e,t);var n=Bt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Di(e,t.type,n):t.hasOwnProperty("defaultValue")&&Di(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Di(e,t,n){(t!=="number"||ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qn=Array.isArray;function xn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ho(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Qn(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function gc(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lr,yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ef=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){ef.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});function xc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kn.hasOwnProperty(e)&&Kn[e]?(""+t).trim():t+"px"}function wc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var tf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function Ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,wn=null,kn=null;function zo(e){if(e=Cr(e)){if(typeof Ui!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Bs(t),Ui(e.stateNode,e.type,t))}}function kc(e){wn?kn?kn.push(e):kn=[e]:wn=e}function Sc(){if(wn){var e=wn,t=kn;if(kn=wn=null,zo(e),t)for(e=0;e<t.length;e++)zo(t[e])}}function Nc(e,t){return e(t)}function jc(){}var si=!1;function Cc(e,t,n){if(si)return e(t,n);si=!0;try{return Nc(e,t,n)}finally{si=!1,(wn!==null||kn!==null)&&(jc(),Sc())}}function or(e,t){var n=e.stateNode;if(n===null)return null;var r=Bs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Wi=!1;if(yt)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Wi=!1}function nf(e,t,n,r,s,i,o,a,c){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(v){this.onError(v)}}var qn=!1,fs=null,hs=!1,Vi=null,rf={onError:function(e){qn=!0,fs=e}};function sf(e,t,n,r,s,i,o,a,c){qn=!1,fs=null,nf.apply(rf,arguments)}function lf(e,t,n,r,s,i,o,a,c){if(sf.apply(this,arguments),qn){if(qn){var g=fs;qn=!1,fs=null}else throw Error(R(198));hs||(hs=!0,Vi=g)}}function sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ec(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fo(e){if(sn(e)!==e)throw Error(R(188))}function of(e){var t=e.alternate;if(!t){if(t=sn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fo(s),e;if(i===r)return Fo(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function _c(e){return e=of(e),e!==null?Tc(e):null}function Tc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tc(e);if(t!==null)return t;e=e.sibling}return null}var Pc=He.unstable_scheduleCallback,Uo=He.unstable_cancelCallback,af=He.unstable_shouldYield,cf=He.unstable_requestPaint,ue=He.unstable_now,uf=He.unstable_getCurrentPriorityLevel,Hl=He.unstable_ImmediatePriority,Ac=He.unstable_UserBlockingPriority,ps=He.unstable_NormalPriority,df=He.unstable_LowPriority,Rc=He.unstable_IdlePriority,Os=null,ot=null;function ff(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Os,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:mf,hf=Math.log,pf=Math.LN2;function mf(e){return e>>>=0,e===0?32:31-(hf(e)/pf|0)|0}var br=64,$r=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zn(a):(i&=o,i!==0&&(r=Zn(i)))}else o=n&~s,o!==0?r=Zn(o):i!==0&&(r=Zn(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),s=1<<n,r|=e[n],t&=~s;return r}function gf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-et(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=gf(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ic(){var e=br;return br<<=1,!(br&4194240)&&(br=64),e}function ii(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function yf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-et(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bc,zl,$c,Oc,Dc,Zi=!1,Or=[],Rt=null,It=null,Lt=null,ar=new Map,cr=new Map,_t=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wo(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function Mn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cr(t),t!==null&&zl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wf(e,t,n,r,s){switch(t){case"focusin":return Rt=Mn(Rt,e,t,n,r,s),!0;case"dragenter":return It=Mn(It,e,t,n,r,s),!0;case"mouseover":return Lt=Mn(Lt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ar.set(i,Mn(ar.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cr.set(i,Mn(cr.get(i)||null,e,t,n,r,s)),!0}return!1}function Mc(e){var t=Zt(e.target);if(t!==null){var n=sn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ec(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){$c(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fi=r,n.target.dispatchEvent(r),Fi=null}else return t=Cr(n),t!==null&&zl(t),e.blockedOn=n,!1;t.shift()}return!0}function Vo(e,t,n){qr(e)&&n.delete(t)}function kf(){Zi=!1,Rt!==null&&qr(Rt)&&(Rt=null),It!==null&&qr(It)&&(It=null),Lt!==null&&qr(Lt)&&(Lt=null),ar.forEach(Vo),cr.forEach(Vo)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,kf)))}function ur(e){function t(s){return Hn(s,e)}if(0<Or.length){Hn(Or[0],e);for(var n=1;n<Or.length;n++){var r=Or[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rt!==null&&Hn(Rt,e),It!==null&&Hn(It,e),Lt!==null&&Hn(Lt,e),ar.forEach(t),cr.forEach(t),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)Mc(n),n.blockedOn===null&&_t.shift()}var Sn=St.ReactCurrentBatchConfig,gs=!0;function Sf(e,t,n,r){var s=J,i=Sn.transition;Sn.transition=null;try{J=1,Fl(e,t,n,r)}finally{J=s,Sn.transition=i}}function Nf(e,t,n,r){var s=J,i=Sn.transition;Sn.transition=null;try{J=4,Fl(e,t,n,r)}finally{J=s,Sn.transition=i}}function Fl(e,t,n,r){if(gs){var s=Gi(e,t,n,r);if(s===null)mi(e,t,r,vs,n),Wo(e,r);else if(wf(s,e,t,n,r))r.stopPropagation();else if(Wo(e,r),t&4&&-1<xf.indexOf(e)){for(;s!==null;){var i=Cr(s);if(i!==null&&bc(i),i=Gi(e,t,n,r),i===null&&mi(e,t,r,vs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mi(e,t,r,null,n)}}var vs=null;function Gi(e,t,n,r){if(vs=null,e=Ml(r),e=Zt(e),e!==null)if(t=sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ec(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case Hl:return 1;case Ac:return 4;case ps:case df:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Pt=null,Ul=null,Xr=null;function Bc(){if(Xr)return Xr;var e,t=Ul,n=t.length,r,s="value"in Pt?Pt.value:Pt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Xr=s.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dr(){return!0}function Qo(){return!1}function ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dr:Qo,this.isPropagationStopped=Qo,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=ze(Ln),jr=oe({},Ln,{view:0,detail:0}),jf=ze(jr),li,oi,Bn,Ds=oe({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bn&&(Bn&&e.type==="mousemove"?(li=e.screenX-Bn.screenX,oi=e.screenY-Bn.screenY):oi=li=0,Bn=e),li)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),Zo=ze(Ds),Cf=oe({},Ds,{dataTransfer:0}),Ef=ze(Cf),_f=oe({},jr,{relatedTarget:0}),ai=ze(_f),Tf=oe({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Pf=ze(Tf),Af=oe({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rf=ze(Af),If=oe({},Ln,{data:0}),Go=ze(If),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Of(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$f[e])?!!t[e]:!1}function Vl(){return Of}var Df=oe({},jr,{key:function(e){if(e.key){var t=Lf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mf=ze(Df),Hf=oe({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=ze(Hf),Bf=oe({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),zf=ze(Bf),Ff=oe({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=ze(Ff),Wf=oe({},Ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=ze(Wf),Qf=[9,13,27,32],Ql=yt&&"CompositionEvent"in window,Xn=null;yt&&"documentMode"in document&&(Xn=document.documentMode);var Zf=yt&&"TextEvent"in window&&!Xn,zc=yt&&(!Ql||Xn&&8<Xn&&11>=Xn),Ko=String.fromCharCode(32),qo=!1;function Fc(e,t){switch(e){case"keyup":return Qf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function Gf(e,t){switch(e){case"compositionend":return Uc(t);case"keypress":return t.which!==32?null:(qo=!0,Ko);case"textInput":return e=t.data,e===Ko&&qo?null:e;default:return null}}function Yf(e,t){if(cn)return e==="compositionend"||!Ql&&Fc(e,t)?(e=Bc(),Xr=Ul=Pt=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zc&&t.locale!=="ko"?null:t.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kf[e.type]:t==="textarea"}function Wc(e,t,n,r){kc(r),t=ys(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,dr=null;function qf(e){tu(e,0)}function Ms(e){var t=fn(e);if(pc(t))return e}function Xf(e,t){if(e==="change")return t}var Vc=!1;if(yt){var ci;if(yt){var ui="oninput"in document;if(!ui){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),ui=typeof Jo.oninput=="function"}ci=ui}else ci=!1;Vc=ci&&(!document.documentMode||9<document.documentMode)}function ea(){Jn&&(Jn.detachEvent("onpropertychange",Qc),dr=Jn=null)}function Qc(e){if(e.propertyName==="value"&&Ms(dr)){var t=[];Wc(t,dr,e,Ml(e)),Cc(qf,t)}}function Jf(e,t,n){e==="focusin"?(ea(),Jn=t,dr=n,Jn.attachEvent("onpropertychange",Qc)):e==="focusout"&&ea()}function eh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(dr)}function th(e,t){if(e==="click")return Ms(t)}function nh(e,t){if(e==="input"||e==="change")return Ms(t)}function rh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:rh;function fr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ai.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function ta(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function na(e,t){var n=ta(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ta(n)}}function Zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gc(){for(var e=window,t=ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ds(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sh(e){var t=Gc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zc(n.ownerDocument.documentElement,n)){if(r!==null&&Zl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=na(n,i);var o=na(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ih=yt&&"documentMode"in document&&11>=document.documentMode,un=null,Yi=null,er=null,Ki=!1;function ra(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ki||un==null||un!==ds(r)||(r=un,"selectionStart"in r&&Zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),er&&fr(er,r)||(er=r,r=ys(Yi,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=un)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dn={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionend:Mr("Transition","TransitionEnd")},di={},Yc={};yt&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Hs(e){if(di[e])return di[e];if(!dn[e])return e;var t=dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yc)return di[e]=t[n];return e}var Kc=Hs("animationend"),qc=Hs("animationiteration"),Xc=Hs("animationstart"),Jc=Hs("transitionend"),eu=new Map,sa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){eu.set(e,t),rn(t,[e])}for(var fi=0;fi<sa.length;fi++){var hi=sa[fi],lh=hi.toLowerCase(),oh=hi[0].toUpperCase()+hi.slice(1);Ft(lh,"on"+oh)}Ft(Kc,"onAnimationEnd");Ft(qc,"onAnimationIteration");Ft(Xc,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Jc,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ah=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function ia(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lf(r,t,void 0,e),e.currentTarget=null}function tu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,g=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;ia(s,a,g),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,g=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;ia(s,a,g),i=c}}}if(hs)throw e=Vi,hs=!1,Vi=null,e}function ne(e,t){var n=t[tl];n===void 0&&(n=t[tl]=new Set);var r=e+"__bubble";n.has(r)||(nu(t,e,2,!1),n.add(r))}function pi(e,t,n){var r=0;t&&(r|=4),nu(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function hr(e){if(!e[Hr]){e[Hr]=!0,cc.forEach(function(n){n!=="selectionchange"&&(ah.has(n)||pi(n,!1,e),pi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hr]||(t[Hr]=!0,pi("selectionchange",!1,t))}}function nu(e,t,n,r){switch(Hc(t)){case 1:var s=Sf;break;case 4:s=Nf;break;default:s=Fl}n=s.bind(null,t,n,e),s=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zt(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cc(function(){var g=i,v=Ml(n),x=[];e:{var w=eu.get(e);if(w!==void 0){var E=Wl,T=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":E=Mf;break;case"focusin":T="focus",E=ai;break;case"focusout":T="blur",E=ai;break;case"beforeblur":case"afterblur":E=ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=zf;break;case Kc:case qc:case Xc:E=Pf;break;case Jc:E=Uf;break;case"scroll":E=jf;break;case"wheel":E=Vf;break;case"copy":case"cut":case"paste":E=Rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Yo}var P=(t&4)!==0,M=!P&&e==="scroll",h=P?w!==null?w+"Capture":null:w;P=[];for(var d=g,m;d!==null;){m=d;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,h!==null&&(k=or(d,h),k!=null&&P.push(pr(d,k,m)))),M)break;d=d.return}0<P.length&&(w=new E(w,T,null,n,v),x.push({event:w,listeners:P}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",w&&n!==Fi&&(T=n.relatedTarget||n.fromElement)&&(Zt(T)||T[xt]))break e;if((E||w)&&(w=v.window===v?v:(w=v.ownerDocument)?w.defaultView||w.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=g,T=T?Zt(T):null,T!==null&&(M=sn(T),T!==M||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=g),E!==T)){if(P=Zo,k="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(P=Yo,k="onPointerLeave",h="onPointerEnter",d="pointer"),M=E==null?w:fn(E),m=T==null?w:fn(T),w=new P(k,d+"leave",E,n,v),w.target=M,w.relatedTarget=m,k=null,Zt(v)===g&&(P=new P(h,d+"enter",T,n,v),P.target=m,P.relatedTarget=M,k=P),M=k,E&&T)t:{for(P=E,h=T,d=0,m=P;m;m=ln(m))d++;for(m=0,k=h;k;k=ln(k))m++;for(;0<d-m;)P=ln(P),d--;for(;0<m-d;)h=ln(h),m--;for(;d--;){if(P===h||h!==null&&P===h.alternate)break t;P=ln(P),h=ln(h)}P=null}else P=null;E!==null&&la(x,w,E,P,!1),T!==null&&M!==null&&la(x,M,T,P,!0)}}e:{if(w=g?fn(g):window,E=w.nodeName&&w.nodeName.toLowerCase(),E==="select"||E==="input"&&w.type==="file")var L=Xf;else if(Xo(w))if(Vc)L=nh;else{L=eh;var $=Jf}else(E=w.nodeName)&&E.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(L=th);if(L&&(L=L(e,g))){Wc(x,L,n,v);break e}$&&$(e,w,g),e==="focusout"&&($=w._wrapperState)&&$.controlled&&w.type==="number"&&Di(w,"number",w.value)}switch($=g?fn(g):window,e){case"focusin":(Xo($)||$.contentEditable==="true")&&(un=$,Yi=g,er=null);break;case"focusout":er=Yi=un=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,ra(x,n,v);break;case"selectionchange":if(ih)break;case"keydown":case"keyup":ra(x,n,v)}var O;if(Ql)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else cn?Fc(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(zc&&n.locale!=="ko"&&(cn||B!=="onCompositionStart"?B==="onCompositionEnd"&&cn&&(O=Bc()):(Pt=v,Ul="value"in Pt?Pt.value:Pt.textContent,cn=!0)),$=ys(g,B),0<$.length&&(B=new Go(B,e,null,n,v),x.push({event:B,listeners:$}),O?B.data=O:(O=Uc(n),O!==null&&(B.data=O)))),(O=Zf?Gf(e,n):Yf(e,n))&&(g=ys(g,"onBeforeInput"),0<g.length&&(v=new Go("onBeforeInput","beforeinput",null,n,v),x.push({event:v,listeners:g}),v.data=O))}tu(x,t)})}function pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=or(e,n),i!=null&&r.unshift(pr(e,i,s)),i=or(e,t),i!=null&&r.push(pr(e,i,s))),e=e.return}return r}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function la(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,g=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&g!==null&&(a=g,s?(c=or(n,i),c!=null&&o.unshift(pr(n,c,a))):s||(c=or(n,i),c!=null&&o.push(pr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ch=/\r\n?/g,uh=/\u0000|\uFFFD/g;function oa(e){return(typeof e=="string"?e:""+e).replace(ch,`
`).replace(uh,"")}function Br(e,t,n){if(t=oa(t),oa(e)!==t&&n)throw Error(R(425))}function xs(){}var qi=null,Xi=null;function Ji(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,dh=typeof clearTimeout=="function"?clearTimeout:void 0,aa=typeof Promise=="function"?Promise:void 0,fh=typeof queueMicrotask=="function"?queueMicrotask:typeof aa<"u"?function(e){return aa.resolve(null).then(e).catch(hh)}:el;function hh(e){setTimeout(function(){throw e})}function gi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ur(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ur(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),lt="__reactFiber$"+bn,mr="__reactProps$"+bn,xt="__reactContainer$"+bn,tl="__reactEvents$"+bn,ph="__reactListeners$"+bn,mh="__reactHandles$"+bn;function Zt(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ca(e);e!==null;){if(n=e[lt])return n;e=ca(e)}return t}e=n,n=e.parentNode}return null}function Cr(e){return e=e[lt]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Bs(e){return e[mr]||null}var nl=[],hn=-1;function Ut(e){return{current:e}}function re(e){0>hn||(e.current=nl[hn],nl[hn]=null,hn--)}function te(e,t){hn++,nl[hn]=e.current,e.current=t}var zt={},je=Ut(zt),Le=Ut(!1),Xt=zt;function En(e,t){var n=e.type.contextTypes;if(!n)return zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function be(e){return e=e.childContextTypes,e!=null}function ws(){re(Le),re(je)}function ua(e,t,n){if(je.current!==zt)throw Error(R(168));te(je,t),te(Le,n)}function ru(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,Xd(e)||"Unknown",s));return oe({},n,r)}function ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,Xt=je.current,te(je,e),te(Le,Le.current),!0}function da(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=ru(e,t,Xt),r.__reactInternalMemoizedMergedChildContext=e,re(Le),re(je),te(je,e)):re(Le),te(Le,n)}var pt=null,zs=!1,vi=!1;function su(e){pt===null?pt=[e]:pt.push(e)}function gh(e){zs=!0,su(e)}function Wt(){if(!vi&&pt!==null){vi=!0;var e=0,t=J;try{var n=pt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,zs=!1}catch(s){throw pt!==null&&(pt=pt.slice(e+1)),Pc(Hl,Wt),s}finally{J=t,vi=!1}}return null}var pn=[],mn=0,Ss=null,Ns=0,Fe=[],Ue=0,Jt=null,mt=1,gt="";function Vt(e,t){pn[mn++]=Ns,pn[mn++]=Ss,Ss=e,Ns=t}function iu(e,t,n){Fe[Ue++]=mt,Fe[Ue++]=gt,Fe[Ue++]=Jt,Jt=e;var r=mt;e=gt;var s=32-et(r)-1;r&=~(1<<s),n+=1;var i=32-et(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,mt=1<<32-et(t)+s|n<<s|r,gt=i+e}else mt=1<<i|n<<s|r,gt=e}function Gl(e){e.return!==null&&(Vt(e,1),iu(e,1,0))}function Yl(e){for(;e===Ss;)Ss=pn[--mn],pn[mn]=null,Ns=pn[--mn],pn[mn]=null;for(;e===Jt;)Jt=Fe[--Ue],Fe[Ue]=null,gt=Fe[--Ue],Fe[Ue]=null,mt=Fe[--Ue],Fe[Ue]=null}var Me=null,De=null,se=!1,Je=null;function lu(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,De=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jt!==null?{id:mt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,De=null,!0):!1;default:return!1}}function rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sl(e){if(se){var t=De;if(t){var n=t;if(!fa(e,t)){if(rl(e))throw Error(R(418));t=bt(n.nextSibling);var r=Me;t&&fa(e,t)?lu(r,n):(e.flags=e.flags&-4097|2,se=!1,Me=e)}}else{if(rl(e))throw Error(R(418));e.flags=e.flags&-4097|2,se=!1,Me=e}}}function ha(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function zr(e){if(e!==Me)return!1;if(!se)return ha(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ji(e.type,e.memoizedProps)),t&&(t=De)){if(rl(e))throw ou(),Error(R(418));for(;t;)lu(e,t),t=bt(t.nextSibling)}if(ha(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Me?bt(e.stateNode.nextSibling):null;return!0}function ou(){for(var e=De;e;)e=bt(e.nextSibling)}function _n(){De=Me=null,se=!1}function Kl(e){Je===null?Je=[e]:Je.push(e)}var vh=St.ReactCurrentBatchConfig;function zn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pa(e){var t=e._init;return t(e._payload)}function au(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Mt(h,d),h.index=0,h.sibling=null,h}function i(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,m,k){return d===null||d.tag!==6?(d=ji(m,h.mode,k),d.return=h,d):(d=s(d,m),d.return=h,d)}function c(h,d,m,k){var L=m.type;return L===an?v(h,d,m.props.children,k,m.key):d!==null&&(d.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ct&&pa(L)===d.type)?(k=s(d,m.props),k.ref=zn(h,d,m),k.return=h,k):(k=ls(m.type,m.key,m.props,null,h.mode,k),k.ref=zn(h,d,m),k.return=h,k)}function g(h,d,m,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Ci(m,h.mode,k),d.return=h,d):(d=s(d,m.children||[]),d.return=h,d)}function v(h,d,m,k,L){return d===null||d.tag!==7?(d=qt(m,h.mode,k,L),d.return=h,d):(d=s(d,m),d.return=h,d)}function x(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ji(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Rr:return m=ls(d.type,d.key,d.props,null,h.mode,m),m.ref=zn(h,null,d),m.return=h,m;case on:return d=Ci(d,h.mode,m),d.return=h,d;case Ct:var k=d._init;return x(h,k(d._payload),m)}if(Qn(d)||On(d))return d=qt(d,h.mode,m,null),d.return=h,d;Fr(h,d)}return null}function w(h,d,m,k){var L=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return L!==null?null:a(h,d,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rr:return m.key===L?c(h,d,m,k):null;case on:return m.key===L?g(h,d,m,k):null;case Ct:return L=m._init,w(h,d,L(m._payload),k)}if(Qn(m)||On(m))return L!==null?null:v(h,d,m,k,null);Fr(h,m)}return null}function E(h,d,m,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(m)||null,a(d,h,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rr:return h=h.get(k.key===null?m:k.key)||null,c(d,h,k,L);case on:return h=h.get(k.key===null?m:k.key)||null,g(d,h,k,L);case Ct:var $=k._init;return E(h,d,m,$(k._payload),L)}if(Qn(k)||On(k))return h=h.get(m)||null,v(d,h,k,L,null);Fr(d,k)}return null}function T(h,d,m,k){for(var L=null,$=null,O=d,B=d=0,U=null;O!==null&&B<m.length;B++){O.index>B?(U=O,O=null):U=O.sibling;var Q=w(h,O,m[B],k);if(Q===null){O===null&&(O=U);break}e&&O&&Q.alternate===null&&t(h,O),d=i(Q,d,B),$===null?L=Q:$.sibling=Q,$=Q,O=U}if(B===m.length)return n(h,O),se&&Vt(h,B),L;if(O===null){for(;B<m.length;B++)O=x(h,m[B],k),O!==null&&(d=i(O,d,B),$===null?L=O:$.sibling=O,$=O);return se&&Vt(h,B),L}for(O=r(h,O);B<m.length;B++)U=E(O,h,B,m[B],k),U!==null&&(e&&U.alternate!==null&&O.delete(U.key===null?B:U.key),d=i(U,d,B),$===null?L=U:$.sibling=U,$=U);return e&&O.forEach(function(C){return t(h,C)}),se&&Vt(h,B),L}function P(h,d,m,k){var L=On(m);if(typeof L!="function")throw Error(R(150));if(m=L.call(m),m==null)throw Error(R(151));for(var $=L=null,O=d,B=d=0,U=null,Q=m.next();O!==null&&!Q.done;B++,Q=m.next()){O.index>B?(U=O,O=null):U=O.sibling;var C=w(h,O,Q.value,k);if(C===null){O===null&&(O=U);break}e&&O&&C.alternate===null&&t(h,O),d=i(C,d,B),$===null?L=C:$.sibling=C,$=C,O=U}if(Q.done)return n(h,O),se&&Vt(h,B),L;if(O===null){for(;!Q.done;B++,Q=m.next())Q=x(h,Q.value,k),Q!==null&&(d=i(Q,d,B),$===null?L=Q:$.sibling=Q,$=Q);return se&&Vt(h,B),L}for(O=r(h,O);!Q.done;B++,Q=m.next())Q=E(O,h,B,Q.value,k),Q!==null&&(e&&Q.alternate!==null&&O.delete(Q.key===null?B:Q.key),d=i(Q,d,B),$===null?L=Q:$.sibling=Q,$=Q);return e&&O.forEach(function(f){return t(h,f)}),se&&Vt(h,B),L}function M(h,d,m,k){if(typeof m=="object"&&m!==null&&m.type===an&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Rr:e:{for(var L=m.key,$=d;$!==null;){if($.key===L){if(L=m.type,L===an){if($.tag===7){n(h,$.sibling),d=s($,m.props.children),d.return=h,h=d;break e}}else if($.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ct&&pa(L)===$.type){n(h,$.sibling),d=s($,m.props),d.ref=zn(h,$,m),d.return=h,h=d;break e}n(h,$);break}else t(h,$);$=$.sibling}m.type===an?(d=qt(m.props.children,h.mode,k,m.key),d.return=h,h=d):(k=ls(m.type,m.key,m.props,null,h.mode,k),k.ref=zn(h,d,m),k.return=h,h=k)}return o(h);case on:e:{for($=m.key;d!==null;){if(d.key===$)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(h,d.sibling),d=s(d,m.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Ci(m,h.mode,k),d.return=h,h=d}return o(h);case Ct:return $=m._init,M(h,d,$(m._payload),k)}if(Qn(m))return T(h,d,m,k);if(On(m))return P(h,d,m,k);Fr(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,m),d.return=h,h=d):(n(h,d),d=ji(m,h.mode,k),d.return=h,h=d),o(h)):n(h,d)}return M}var Tn=au(!0),cu=au(!1),js=Ut(null),Cs=null,gn=null,ql=null;function Xl(){ql=gn=Cs=null}function Jl(e){var t=js.current;re(js),e._currentValue=t}function il(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nn(e,t){Cs=e,ql=gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},gn===null){if(Cs===null)throw Error(R(308));gn=e,Cs.dependencies={lanes:0,firstContext:e}}else gn=gn.next=e;return t}var Gt=null;function eo(e){Gt===null?Gt=[e]:Gt.push(e)}function uu(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,eo(t)):(n.next=s.next,s.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Et=!1;function to(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,wt(e,n)}return s=r.interleaved,s===null?(t.next=t,eo(r)):(t.next=s.next,s.next=t),r.interleaved=t,wt(e,n)}function es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}function ma(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Es(e,t,n,r){var s=e.updateQueue;Et=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,g=c.next;c.next=null,o===null?i=g:o.next=g,o=c;var v=e.alternate;v!==null&&(v=v.updateQueue,a=v.lastBaseUpdate,a!==o&&(a===null?v.firstBaseUpdate=g:a.next=g,v.lastBaseUpdate=c))}if(i!==null){var x=s.baseState;o=0,v=g=c=null,a=i;do{var w=a.lane,E=a.eventTime;if((r&w)===w){v!==null&&(v=v.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=e,P=a;switch(w=t,E=n,P.tag){case 1:if(T=P.payload,typeof T=="function"){x=T.call(E,x,w);break e}x=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=P.payload,w=typeof T=="function"?T.call(E,x,w):T,w==null)break e;x=oe({},x,w);break e;case 2:Et=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[a]:w.push(a))}else E={eventTime:E,lane:w,tag:a.tag,payload:a.payload,callback:a.callback,next:null},v===null?(g=v=E,c=x):v=v.next=E,o|=w;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;w=a,a=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(1);if(v===null&&(c=x),s.baseState=c,s.firstBaseUpdate=g,s.lastBaseUpdate=v,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);tn|=o,e.lanes=o,e.memoizedState=x}}function ga(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Er={},at=Ut(Er),gr=Ut(Er),vr=Ut(Er);function Yt(e){if(e===Er)throw Error(R(174));return e}function no(e,t){switch(te(vr,t),te(gr,e),te(at,Er),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hi(t,e)}re(at),te(at,t)}function Pn(){re(at),re(gr),re(vr)}function fu(e){Yt(vr.current);var t=Yt(at.current),n=Hi(t,e.type);t!==n&&(te(gr,e),te(at,n))}function ro(e){gr.current===e&&(re(at),re(gr))}var ie=Ut(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yi=[];function so(){for(var e=0;e<yi.length;e++)yi[e]._workInProgressVersionPrimary=null;yi.length=0}var ts=St.ReactCurrentDispatcher,xi=St.ReactCurrentBatchConfig,en=0,le=null,pe=null,ge=null,Ts=!1,tr=!1,yr=0,yh=0;function ke(){throw Error(R(321))}function io(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function lo(e,t,n,r,s,i){if(en=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?Sh:Nh,e=n(r,s),tr){i=0;do{if(tr=!1,yr=0,25<=i)throw Error(R(301));i+=1,ge=pe=null,t.updateQueue=null,ts.current=jh,e=n(r,s)}while(tr)}if(ts.current=Ps,t=pe!==null&&pe.next!==null,en=0,ge=pe=le=null,Ts=!1,t)throw Error(R(300));return e}function oo(){var e=yr!==0;return yr=0,e}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?le.memoizedState=ge=e:ge=ge.next=e,ge}function Ge(){if(pe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ge===null?le.memoizedState:ge.next;if(t!==null)ge=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?le.memoizedState=ge=e:ge=ge.next=e}return ge}function xr(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=Ge(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,g=i;do{var v=g.lane;if((en&v)===v)c!==null&&(c=c.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var x={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};c===null?(a=c=x,o=r):c=c.next=x,le.lanes|=v,tn|=v}g=g.next}while(g!==null&&g!==i);c===null?o=r:c.next=a,nt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,tn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=Ge(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hu(){}function pu(e,t){var n=le,r=Ge(),s=t(),i=!nt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,ao(vu.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,wr(9,gu.bind(null,n,r,s,t),void 0,null),ve===null)throw Error(R(349));en&30||mu(n,t,s)}return s}function mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gu(e,t,n,r){t.value=n,t.getSnapshot=r,yu(t)&&xu(e)}function vu(e,t,n){return n(function(){yu(t)&&xu(e)})}function yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function xu(e){var t=wt(e,1);t!==null&&tt(t,e,1,-1)}function va(e){var t=st();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},t.queue=e,e=e.dispatch=kh.bind(null,le,e),[t.memoizedState,e]}function wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wu(){return Ge().memoizedState}function ns(e,t,n,r){var s=st();le.flags|=e,s.memoizedState=wr(1|t,n,void 0,r===void 0?null:r)}function Fs(e,t,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&io(r,o.deps)){s.memoizedState=wr(t,n,i,r);return}}le.flags|=e,s.memoizedState=wr(1|t,n,i,r)}function ya(e,t){return ns(8390656,8,e,t)}function ao(e,t){return Fs(2048,8,e,t)}function ku(e,t){return Fs(4,2,e,t)}function Su(e,t){return Fs(4,4,e,t)}function Nu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ju(e,t,n){return n=n!=null?n.concat([e]):null,Fs(4,4,Nu.bind(null,t,e),n)}function co(){}function Cu(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eu(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _u(e,t,n){return en&21?(nt(n,t)||(n=Ic(),le.lanes|=n,tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function xh(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=xi.transition;xi.transition={};try{e(!1),t()}finally{J=n,xi.transition=r}}function Tu(){return Ge().memoizedState}function wh(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pu(e))Au(t,n);else if(n=uu(e,t,n,r),n!==null){var s=Te();tt(n,e,r,s),Ru(n,t,r)}}function kh(e,t,n){var r=Dt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))Au(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var c=t.interleaved;c===null?(s.next=s,eo(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=uu(e,t,s,r),n!==null&&(s=Te(),tt(n,e,r,s),Ru(n,t,r))}}function Pu(e){var t=e.alternate;return e===le||t!==null&&t===le}function Au(e,t){tr=Ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ru(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}var Ps={readContext:Ze,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Sh={readContext:Ze,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:ya,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,Nu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=st();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=st();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wh.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:va,useDebugValue:co,useDeferredValue:function(e){return st().memoizedState=e},useTransition:function(){var e=va(!1),t=e[0];return e=xh.bind(null,e[1]),st().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=st();if(se){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ve===null)throw Error(R(349));en&30||mu(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ya(vu.bind(null,r,i,e),[e]),r.flags|=2048,wr(9,gu.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=st(),t=ve.identifierPrefix;if(se){var n=gt,r=mt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nh={readContext:Ze,useCallback:Cu,useContext:Ze,useEffect:ao,useImperativeHandle:ju,useInsertionEffect:ku,useLayoutEffect:Su,useMemo:Eu,useReducer:wi,useRef:wu,useState:function(){return wi(xr)},useDebugValue:co,useDeferredValue:function(e){var t=Ge();return _u(t,pe.memoizedState,e)},useTransition:function(){var e=wi(xr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:hu,useSyncExternalStore:pu,useId:Tu,unstable_isNewReconciler:!1},jh={readContext:Ze,useCallback:Cu,useContext:Ze,useEffect:ao,useImperativeHandle:ju,useInsertionEffect:ku,useLayoutEffect:Su,useMemo:Eu,useReducer:ki,useRef:wu,useState:function(){return ki(xr)},useDebugValue:co,useDeferredValue:function(e){var t=Ge();return pe===null?t.memoizedState=e:_u(t,pe.memoizedState,e)},useTransition:function(){var e=ki(xr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:hu,useSyncExternalStore:pu,useId:Tu,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ll(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return(e=e._reactInternals)?sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Dt(e),i=vt(r,s);i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,s),t!==null&&(tt(t,e,s,r),es(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Dt(e),i=vt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,s),t!==null&&(tt(t,e,s,r),es(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=Dt(e),s=vt(n,r);s.tag=2,t!=null&&(s.callback=t),t=$t(e,s,r),t!==null&&(tt(t,e,r,n),es(t,e,r))}};function xa(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fr(n,r)||!fr(s,i):!0}function Iu(e,t,n){var r=!1,s=zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=be(t)?Xt:je.current,r=t.contextTypes,i=(r=r!=null)?En(e,s):zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function wa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},to(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=be(t)?Xt:je.current,s.context=En(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ll(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Us.enqueueReplaceState(s,s.state,null),Es(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var n="",r=t;do n+=qd(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function Lu(e,t,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,yl=r),al(e,t)},n}function bu(e,t,n){n=vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){al(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){al(e,t),typeof r!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ka(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ch;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Hh.bind(null,e,t,n),t.then(e,e))}function Sa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Na(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vt(-1,1),t.tag=2,$t(n,t,1))),n.lanes|=1),e)}var Eh=St.ReactCurrentOwner,Ie=!1;function _e(e,t,n,r){t.child=e===null?cu(t,null,n,r):Tn(t,e.child,n,r)}function ja(e,t,n,r,s){n=n.render;var i=t.ref;return Nn(t,s),r=lo(e,t,n,r,i,s),n=oo(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(se&&n&&Gl(t),t.flags|=1,_e(e,t,r,s),t.child)}function Ca(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!yo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$u(e,t,i,r,s)):(e=ls(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fr,n(o,r)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Mt(i,r),e.ref=t.ref,e.return=t,t.child=e}function $u(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fr(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,kt(e,t,s)}return cl(e,t,n,r,s)}function Ou(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(yn,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(yn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(yn,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(yn,Oe),Oe|=r;return _e(e,t,s,n),t.child}function Du(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cl(e,t,n,r,s){var i=be(n)?Xt:je.current;return i=En(t,i),Nn(t,s),n=lo(e,t,n,r,i,s),r=oo(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(se&&r&&Gl(t),t.flags|=1,_e(e,t,n,s),t.child)}function Ea(e,t,n,r,s){if(be(n)){var i=!0;ks(t)}else i=!1;if(Nn(t,s),t.stateNode===null)rs(e,t),Iu(t,n,r),ol(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,g=n.contextType;typeof g=="object"&&g!==null?g=Ze(g):(g=be(n)?Xt:je.current,g=En(t,g));var v=n.getDerivedStateFromProps,x=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==g)&&wa(t,o,r,g),Et=!1;var w=t.memoizedState;o.state=w,Es(t,r,o,s),c=t.memoizedState,a!==r||w!==c||Le.current||Et?(typeof v=="function"&&(ll(t,n,v,r),c=t.memoizedState),(a=Et||xa(t,n,a,r,w,c,g))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=g,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,du(e,t),a=t.memoizedProps,g=t.type===t.elementType?a:Ke(t.type,a),o.props=g,x=t.pendingProps,w=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ze(c):(c=be(n)?Xt:je.current,c=En(t,c));var E=n.getDerivedStateFromProps;(v=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==x||w!==c)&&wa(t,o,r,c),Et=!1,w=t.memoizedState,o.state=w,Es(t,r,o,s);var T=t.memoizedState;a!==x||w!==T||Le.current||Et?(typeof E=="function"&&(ll(t,n,E,r),T=t.memoizedState),(g=Et||xa(t,n,g,r,w,T,c)||!1)?(v||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),o.props=r,o.state=T,o.context=c,r=g):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return ul(e,t,n,r,i,s)}function ul(e,t,n,r,s,i){Du(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&da(t,n,!1),kt(e,t,i);r=t.stateNode,Eh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Tn(t,e.child,null,i),t.child=Tn(t,null,a,i)):_e(e,t,a,i),t.memoizedState=r.state,s&&da(t,n,!0),t.child}function Mu(e){var t=e.stateNode;t.pendingContext?ua(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ua(e,t.context,!1),no(e,t.containerInfo)}function _a(e,t,n,r,s){return _n(),Kl(s),t.flags|=256,_e(e,t,n,r),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ie,s&1),e===null)return sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qs(o,r,0,null),e=qt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fl(n),t.memoizedState=dl,e):uo(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _h(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=qt(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?fl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=dl,r}return i=e.child,e=i.sibling,r=Mt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uo(e,t){return t=Qs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ur(e,t,n,r){return r!==null&&Kl(r),Tn(t,e.child,null,n),e=uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _h(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Si(Error(R(422))),Ur(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Qs({mode:"visible",children:r.children},s,0,null),i=qt(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Tn(t,e.child,null,o),t.child.memoizedState=fl(o),t.memoizedState=dl,i);if(!(t.mode&1))return Ur(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=Si(i,r,void 0),Ur(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ie||a){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(e,s),tt(r,e,s,-1))}return vo(),r=Si(Error(R(421))),Ur(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bh.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,De=bt(s.nextSibling),Me=t,se=!0,Je=null,e!==null&&(Fe[Ue++]=mt,Fe[Ue++]=gt,Fe[Ue++]=Jt,mt=e.id,gt=e.overflow,Jt=t),t=uo(t,r.children),t.flags|=4096,t)}function Ta(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),il(e.return,t,n)}function Ni(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Bu(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_e(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ta(e,n,t);else if(e.tag===19)Ta(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&_s(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ni(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_s(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ni(t,!0,n,null,i);break;case"together":Ni(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Mt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Th(e,t,n){switch(t.tag){case 3:Mu(t),_n();break;case 5:fu(t);break;case 1:be(t.type)&&ks(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(js,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Hu(e,t,n):(te(ie,ie.current&1),e=kt(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Ou(e,t,n)}return kt(e,t,n)}var zu,hl,Fu,Uu;zu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hl=function(){};Fu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yt(at.current);var i=null;switch(n){case"input":s=$i(e,s),r=$i(e,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=Mi(e,s),r=Mi(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xs)}Bi(n,r);var o;n=null;for(g in s)if(!r.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var a=s[g];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ir.hasOwnProperty(g)?i||(i=[]):(i=i||[]).push(g,null));for(g in r){var c=r[g];if(a=s!=null?s[g]:void 0,r.hasOwnProperty(g)&&c!==a&&(c!=null||a!=null))if(g==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(g,n)),n=c;else g==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(g,c)):g==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(g,""+c):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ir.hasOwnProperty(g)?(c!=null&&g==="onScroll"&&ne("scroll",e),i||a===c||(i=[])):(i=i||[]).push(g,c))}n&&(i=i||[]).push("style",n);var g=i;(t.updateQueue=g)&&(t.flags|=4)}};Uu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ph(e,t,n){var r=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return be(t.type)&&ws(),Se(t),null;case 3:return r=t.stateNode,Pn(),re(Le),re(je),so(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(kl(Je),Je=null))),hl(e,t),Se(t),null;case 5:ro(t);var s=Yt(vr.current);if(n=t.type,e!==null&&t.stateNode!=null)Fu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Se(t),null}if(e=Yt(at.current),zr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lt]=t,r[mr]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Gn.length;s++)ne(Gn[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Do(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Ho(r,i),ne("invalid",r)}Bi(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Br(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Br(r.textContent,a,e),s=["children",""+a]):ir.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":Ir(r),Mo(r,i,!0);break;case"textarea":Ir(r),Bo(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[lt]=t,e[mr]=r,zu(e,t,!1,!1),t.stateNode=e;e:{switch(o=zi(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Gn.length;s++)ne(Gn[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Do(e,r),s=$i(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ho(e,r),s=Mi(e,r),ne("invalid",e);break;default:s=r}Bi(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?wc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yc(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lr(e,c):typeof c=="number"&&lr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ir.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ne("scroll",e):c!=null&&bl(e,i,c,o))}switch(n){case"input":Ir(e),Mo(e,r,!1);break;case"textarea":Ir(e),Bo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xn(e,!!r.multiple,i,!1):r.defaultValue!=null&&xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Uu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Yt(vr.current),Yt(at.current),zr(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:Br(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Br(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return Se(t),null;case 13:if(re(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&De!==null&&t.mode&1&&!(t.flags&128))ou(),_n(),t.flags|=98560,i=!1;else if(i=zr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[lt]=t}else _n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else Je!==null&&(kl(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?me===0&&(me=3):vo())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Pn(),hl(e,t),e===null&&hr(t.stateNode.containerInfo),Se(t),null;case 10:return Jl(t.type._context),Se(t),null;case 17:return be(t.type)&&ws(),Se(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Fn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_s(e),o!==null){for(t.flags|=128,Fn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Rn&&(t.flags|=128,r=!0,Fn(i,!1),t.lanes=4194304)}else{if(!r)if(e=_s(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Se(t),null}else 2*ue()-i.renderingStartTime>Rn&&n!==1073741824&&(t.flags|=128,r=!0,Fn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ie.current,te(ie,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return go(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Ah(e,t){switch(Yl(t),t.tag){case 1:return be(t.type)&&ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(),re(Le),re(je),so(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ro(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return Pn(),null;case 10:return Jl(t.type._context),null;case 22:case 23:return go(),null;case 24:return null;default:return null}}var Wr=!1,Ne=!1,Rh=typeof WeakSet=="function"?WeakSet:Set,z=null;function vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function pl(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Pa=!1;function Ih(e,t){if(qi=gs,e=Gc(),Zl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,g=0,v=0,x=e,w=null;t:for(;;){for(var E;x!==n||s!==0&&x.nodeType!==3||(a=o+s),x!==i||r!==0&&x.nodeType!==3||(c=o+r),x.nodeType===3&&(o+=x.nodeValue.length),(E=x.firstChild)!==null;)w=x,x=E;for(;;){if(x===e)break t;if(w===n&&++g===s&&(a=o),w===i&&++v===r&&(c=o),(E=x.nextSibling)!==null)break;x=w,w=x.parentNode}x=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xi={focusedElem:e,selectionRange:n},gs=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var P=T.memoizedProps,M=T.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?P:Ke(t.type,P),M);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){ce(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return T=Pa,Pa=!1,T}function nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pl(t,n,i)}s=s.next}while(s!==r)}}function Ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wu(e){var t=e.alternate;t!==null&&(e.alternate=null,Wu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[mr],delete t[tl],delete t[ph],delete t[mh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vu(e){return e.tag===5||e.tag===3||e.tag===4}function Aa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xs));else if(r!==4&&(e=e.child,e!==null))for(gl(e,t,n),e=e.sibling;e!==null;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}var ye=null,qe=!1;function jt(e,t,n){for(n=n.child;n!==null;)Qu(e,t,n),n=n.sibling}function Qu(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Os,n)}catch{}switch(n.tag){case 5:Ne||vn(n,t);case 6:var r=ye,s=qe;ye=null,jt(e,t,n),ye=r,qe=s,ye!==null&&(qe?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(qe?(e=ye,n=n.stateNode,e.nodeType===8?gi(e.parentNode,n):e.nodeType===1&&gi(e,n),ur(e)):gi(ye,n.stateNode));break;case 4:r=ye,s=qe,ye=n.stateNode.containerInfo,qe=!0,jt(e,t,n),ye=r,qe=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pl(n,t,o),s=s.next}while(s!==r)}jt(e,t,n);break;case 1:if(!Ne&&(vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,t,a)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,jt(e,t,n),Ne=r):jt(e,t,n);break;default:jt(e,t,n)}}function Ra(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rh),t.forEach(function(r){var s=zh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,qe=!1;break e;case 3:ye=a.stateNode.containerInfo,qe=!0;break e;case 4:ye=a.stateNode.containerInfo,qe=!0;break e}a=a.return}if(ye===null)throw Error(R(160));Qu(i,o,s),ye=null,qe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(g){ce(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zu(t,e),t=t.sibling}function Zu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),rt(e),r&4){try{nr(3,e,e.return),Ws(3,e)}catch(P){ce(e,e.return,P)}try{nr(5,e,e.return)}catch(P){ce(e,e.return,P)}}break;case 1:Ye(t,e),rt(e),r&512&&n!==null&&vn(n,n.return);break;case 5:if(Ye(t,e),rt(e),r&512&&n!==null&&vn(n,n.return),e.flags&32){var s=e.stateNode;try{lr(s,"")}catch(P){ce(e,e.return,P)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mc(s,i),zi(a,o);var g=zi(a,i);for(o=0;o<c.length;o+=2){var v=c[o],x=c[o+1];v==="style"?wc(s,x):v==="dangerouslySetInnerHTML"?yc(s,x):v==="children"?lr(s,x):bl(s,v,x,g)}switch(a){case"input":Oi(s,i);break;case"textarea":gc(s,i);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?xn(s,!!i.multiple,E,!1):w!==!!i.multiple&&(i.defaultValue!=null?xn(s,!!i.multiple,i.defaultValue,!0):xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[mr]=i}catch(P){ce(e,e.return,P)}}break;case 6:if(Ye(t,e),rt(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(P){ce(e,e.return,P)}}break;case 3:if(Ye(t,e),rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(P){ce(e,e.return,P)}break;case 4:Ye(t,e),rt(e);break;case 13:Ye(t,e),rt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(po=ue())),r&4&&Ra(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(g=Ne)||v,Ye(t,e),Ne=g):Ye(t,e),rt(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!v&&e.mode&1)for(z=e,v=e.child;v!==null;){for(x=z=v;z!==null;){switch(w=z,E=w.child,w.tag){case 0:case 11:case 14:case 15:nr(4,w,w.return);break;case 1:vn(w,w.return);var T=w.stateNode;if(typeof T.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(P){ce(r,n,P)}}break;case 5:vn(w,w.return);break;case 22:if(w.memoizedState!==null){La(x);continue}}E!==null?(E.return=w,z=E):La(x)}v=v.sibling}e:for(v=null,x=e;;){if(x.tag===5){if(v===null){v=x;try{s=x.stateNode,g?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=x.stateNode,c=x.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=xc("display",o))}catch(P){ce(e,e.return,P)}}}else if(x.tag===6){if(v===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch(P){ce(e,e.return,P)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;v===x&&(v=null),x=x.return}v===x&&(v=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ye(t,e),rt(e),r&4&&Ra(e);break;case 21:break;default:Ye(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vu(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lr(s,""),r.flags&=-33);var i=Aa(e);vl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Aa(e);gl(e,a,o);break;default:throw Error(R(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lh(e,t,n){z=e,Gu(e)}function Gu(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Wr;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ne;a=Wr;var g=Ne;if(Wr=o,(Ne=c)&&!g)for(z=s;z!==null;)o=z,c=o.child,o.tag===22&&o.memoizedState!==null?ba(s):c!==null?(c.return=o,z=c):ba(s);for(;i!==null;)z=i,Gu(i),i=i.sibling;z=s,Wr=a,Ne=g}Ia(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):Ia(e)}}function Ia(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ga(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ga(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var v=g.memoizedState;if(v!==null){var x=v.dehydrated;x!==null&&ur(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ne||t.flags&512&&ml(t)}catch(w){ce(t,t.return,w)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function La(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function ba(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ws(4,t)}catch(c){ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ce(t,s,c)}}var i=t.return;try{ml(t)}catch(c){ce(t,i,c)}break;case 5:var o=t.return;try{ml(t)}catch(c){ce(t,o,c)}}}catch(c){ce(t,t.return,c)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var bh=Math.ceil,As=St.ReactCurrentDispatcher,fo=St.ReactCurrentOwner,Qe=St.ReactCurrentBatchConfig,X=0,ve=null,de=null,xe=0,Oe=0,yn=Ut(0),me=0,kr=null,tn=0,Vs=0,ho=0,rr=null,Re=null,po=0,Rn=1/0,ht=null,Rs=!1,yl=null,Ot=null,Vr=!1,At=null,Is=0,sr=0,xl=null,ss=-1,is=0;function Te(){return X&6?ue():ss!==-1?ss:ss=ue()}function Dt(e){return e.mode&1?X&2&&xe!==0?xe&-xe:vh.transition!==null?(is===0&&(is=Ic()),is):(e=J,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function tt(e,t,n,r){if(50<sr)throw sr=0,xl=null,Error(R(185));Nr(e,n,r),(!(X&2)||e!==ve)&&(e===ve&&(!(X&2)&&(Vs|=n),me===4&&Tt(e,xe)),$e(e,r),n===1&&X===0&&!(t.mode&1)&&(Rn=ue()+500,zs&&Wt()))}function $e(e,t){var n=e.callbackNode;vf(e,t);var r=ms(e,e===ve?xe:0);if(r===0)n!==null&&Uo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Uo(n),t===1)e.tag===0?gh($a.bind(null,e)):su($a.bind(null,e)),fh(function(){!(X&6)&&Wt()}),n=null;else{switch(Lc(r)){case 1:n=Hl;break;case 4:n=Ac;break;case 16:n=ps;break;case 536870912:n=Rc;break;default:n=ps}n=nd(n,Yu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yu(e,t){if(ss=-1,is=0,X&6)throw Error(R(327));var n=e.callbackNode;if(jn()&&e.callbackNode!==n)return null;var r=ms(e,e===ve?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ls(e,r);else{t=r;var s=X;X|=2;var i=qu();(ve!==e||xe!==t)&&(ht=null,Rn=ue()+500,Kt(e,t));do try{Dh();break}catch(a){Ku(e,a)}while(1);Xl(),As.current=i,X=s,de!==null?t=0:(ve=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=Qi(e),s!==0&&(r=s,t=wl(e,s))),t===1)throw n=kr,Kt(e,0),Tt(e,r),$e(e,ue()),n;if(t===6)Tt(e,r);else{if(s=e.current.alternate,!(r&30)&&!$h(s)&&(t=Ls(e,r),t===2&&(i=Qi(e),i!==0&&(r=i,t=wl(e,i))),t===1))throw n=kr,Kt(e,0),Tt(e,r),$e(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Qt(e,Re,ht);break;case 3:if(Tt(e,r),(r&130023424)===r&&(t=po+500-ue(),10<t)){if(ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=el(Qt.bind(null,e,Re,ht),t);break}Qt(e,Re,ht);break;case 4:if(Tt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-et(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bh(r/1960))-r,10<r){e.timeoutHandle=el(Qt.bind(null,e,Re,ht),r);break}Qt(e,Re,ht);break;case 5:Qt(e,Re,ht);break;default:throw Error(R(329))}}}return $e(e,ue()),e.callbackNode===n?Yu.bind(null,e):null}function wl(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&(Kt(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=Re,Re=n,t!==null&&kl(t)),e}function kl(e){Re===null?Re=e:Re.push.apply(Re,e)}function $h(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~ho,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function $a(e){if(X&6)throw Error(R(327));jn();var t=ms(e,0);if(!(t&1))return $e(e,ue()),null;var n=Ls(e,t);if(e.tag!==0&&n===2){var r=Qi(e);r!==0&&(t=r,n=wl(e,r))}if(n===1)throw n=kr,Kt(e,0),Tt(e,t),$e(e,ue()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Re,ht),$e(e,ue()),null}function mo(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Rn=ue()+500,zs&&Wt())}}function nn(e){At!==null&&At.tag===0&&!(X&6)&&jn();var t=X;X|=1;var n=Qe.transition,r=J;try{if(Qe.transition=null,J=1,e)return e()}finally{J=r,Qe.transition=n,X=t,!(X&6)&&Wt()}}function go(){Oe=yn.current,re(yn)}function Kt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dh(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ws();break;case 3:Pn(),re(Le),re(je),so();break;case 5:ro(r);break;case 4:Pn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:Jl(r.type._context);break;case 22:case 23:go()}n=n.return}if(ve=e,de=e=Mt(e.current,null),xe=Oe=t,me=0,kr=null,ho=Vs=tn=0,Re=rr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gt=null}return e}function Ku(e,t){do{var n=de;try{if(Xl(),ts.current=Ps,Ts){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ts=!1}if(en=0,ge=pe=le=null,tr=!1,yr=0,fo.current=null,n===null||n.return===null){me=1,kr=t,de=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=xe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=c,v=a,x=v.tag;if(!(v.mode&1)&&(x===0||x===11||x===15)){var w=v.alternate;w?(v.updateQueue=w.updateQueue,v.memoizedState=w.memoizedState,v.lanes=w.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=Sa(o);if(E!==null){E.flags&=-257,Na(E,o,a,i,t),E.mode&1&&ka(i,g,t),t=E,c=g;var T=t.updateQueue;if(T===null){var P=new Set;P.add(c),t.updateQueue=P}else T.add(c);break e}else{if(!(t&1)){ka(i,g,t),vo();break e}c=Error(R(426))}}else if(se&&a.mode&1){var M=Sa(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Na(M,o,a,i,t),Kl(An(c,a));break e}}i=c=An(c,a),me!==4&&(me=2),rr===null?rr=[i]:rr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Lu(i,c,t);ma(i,h);break e;case 1:a=c;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ot===null||!Ot.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=bu(i,a,t);ma(i,k);break e}}i=i.return}while(i!==null)}Ju(n)}catch(L){t=L,de===n&&n!==null&&(de=n=n.return);continue}break}while(1)}function qu(){var e=As.current;return As.current=Ps,e===null?Ps:e}function vo(){(me===0||me===3||me===2)&&(me=4),ve===null||!(tn&268435455)&&!(Vs&268435455)||Tt(ve,xe)}function Ls(e,t){var n=X;X|=2;var r=qu();(ve!==e||xe!==t)&&(ht=null,Kt(e,t));do try{Oh();break}catch(s){Ku(e,s)}while(1);if(Xl(),X=n,As.current=r,de!==null)throw Error(R(261));return ve=null,xe=0,me}function Oh(){for(;de!==null;)Xu(de)}function Dh(){for(;de!==null&&!af();)Xu(de)}function Xu(e){var t=td(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Ju(e):de=t,fo.current=null}function Ju(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ah(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(n=Ph(n,t,Oe),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Qt(e,t,n){var r=J,s=Qe.transition;try{Qe.transition=null,J=1,Mh(e,t,n,r)}finally{Qe.transition=s,J=r}return null}function Mh(e,t,n,r){do jn();while(At!==null);if(X&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yf(e,i),e===ve&&(de=ve=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vr||(Vr=!0,nd(ps,function(){return jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=J;J=1;var a=X;X|=4,fo.current=null,Ih(e,n),Zu(n,e),sh(Xi),gs=!!qi,Xi=qi=null,e.current=n,Lh(n),cf(),X=a,J=o,Qe.transition=i}else e.current=n;if(Vr&&(Vr=!1,At=e,Is=s),i=e.pendingLanes,i===0&&(Ot=null),ff(n.stateNode),$e(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rs)throw Rs=!1,e=yl,yl=null,e;return Is&1&&e.tag!==0&&jn(),i=e.pendingLanes,i&1?e===xl?sr++:(sr=0,xl=e):sr=0,Wt(),null}function jn(){if(At!==null){var e=Lc(Is),t=Qe.transition,n=J;try{if(Qe.transition=null,J=16>e?16:e,At===null)var r=!1;else{if(e=At,At=null,Is=0,X&6)throw Error(R(331));var s=X;for(X|=4,z=e.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var g=a[c];for(z=g;z!==null;){var v=z;switch(v.tag){case 0:case 11:case 15:nr(8,v,i)}var x=v.child;if(x!==null)x.return=v,z=x;else for(;z!==null;){v=z;var w=v.sibling,E=v.return;if(Wu(v),v===g){z=null;break}if(w!==null){w.return=E,z=w;break}z=E}}}var T=i.alternate;if(T!==null){var P=T.child;if(P!==null){T.child=null;do{var M=P.sibling;P.sibling=null,P=M}while(P!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,z=h;break e}z=i.return}}var d=e.current;for(z=d;z!==null;){o=z;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,z=m;else e:for(o=d;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ws(9,a)}}catch(L){ce(a,a.return,L)}if(a===o){z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,z=k;break e}z=a.return}}if(X=s,Wt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Os,e)}catch{}r=!0}return r}finally{J=n,Qe.transition=t}}return!1}function Oa(e,t,n){t=An(n,t),t=Lu(e,t,1),e=$t(e,t,1),t=Te(),e!==null&&(Nr(e,1,t),$e(e,t))}function ce(e,t,n){if(e.tag===3)Oa(e,e,n);else for(;t!==null;){if(t.tag===3){Oa(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ot===null||!Ot.has(r))){e=An(n,e),e=bu(t,e,1),t=$t(t,e,1),e=Te(),t!==null&&(Nr(t,1,e),$e(t,e));break}}t=t.return}}function Hh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>ue()-po?Kt(e,0):ho|=n),$e(e,t)}function ed(e,t){t===0&&(e.mode&1?(t=$r,$r<<=1,!($r&130023424)&&($r=4194304)):t=1);var n=Te();e=wt(e,t),e!==null&&(Nr(e,t,n),$e(e,n))}function Bh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ed(e,n)}function zh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),ed(e,n)}var td;td=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,Th(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,se&&t.flags&1048576&&iu(t,Ns,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rs(e,t),e=t.pendingProps;var s=En(t,je.current);Nn(t,n),s=lo(null,t,r,e,s,n);var i=oo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(i=!0,ks(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,to(t),s.updater=Us,t.stateNode=s,s._reactInternals=t,ol(t,r,e,n),t=ul(null,t,r,!0,i,n)):(t.tag=0,se&&i&&Gl(t),_e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Uh(r),e=Ke(r,e),s){case 0:t=cl(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=ja(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,Ke(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),cl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Ea(e,t,r,s,n);case 3:e:{if(Mu(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,du(e,t),Es(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=An(Error(R(423)),t),t=_a(e,t,r,n,s);break e}else if(r!==s){s=An(Error(R(424)),t),t=_a(e,t,r,n,s);break e}else for(De=bt(t.stateNode.containerInfo.firstChild),Me=t,se=!0,Je=null,n=cu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_n(),r===s){t=kt(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return fu(t),e===null&&sl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ji(r,s)?o=null:i!==null&&Ji(r,i)&&(t.flags|=32),Du(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&sl(t),null;case 13:return Hu(e,t,n);case 4:return no(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tn(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),ja(e,t,r,s,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(js,r._currentValue),r._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Le.current){t=kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vt(-1,n&-n),c.tag=2;var g=i.updateQueue;if(g!==null){g=g.shared;var v=g.pending;v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),il(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),il(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Nn(t,n),s=Ze(s),r=r(s),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,s=Ke(r,t.pendingProps),s=Ke(r.type,s),Ca(e,t,r,s,n);case 15:return $u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),rs(e,t),t.tag=1,be(r)?(e=!0,ks(t)):e=!1,Nn(t,n),Iu(t,r,s),ol(t,r,s,n),ul(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Ou(e,t,n)}throw Error(R(156,t.tag))};function nd(e,t){return Pc(e,t)}function Fh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new Fh(e,t,n,r)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uh(e){if(typeof e=="function")return yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ol)return 11;if(e===Dl)return 14}return 2}function Mt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ls(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")yo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case an:return qt(n.children,s,i,t);case $l:o=8,s|=8;break;case Ri:return e=Ve(12,n,t,s|2),e.elementType=Ri,e.lanes=i,e;case Ii:return e=Ve(13,n,t,s),e.elementType=Ii,e.lanes=i,e;case Li:return e=Ve(19,n,t,s),e.elementType=Li,e.lanes=i,e;case fc:return Qs(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uc:o=10;break e;case dc:o=9;break e;case Ol:o=11;break e;case Dl:o=14;break e;case Ct:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ve(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function qt(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Qs(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=fc,e.lanes=n,e.stateNode={isHidden:!1},e}function ji(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function Ci(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xo(e,t,n,r,s,i,o,a,c){return e=new Wh(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},to(i),e}function Vh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:on,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rd(e){if(!e)return zt;e=e._reactInternals;e:{if(sn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(be(n))return ru(e,n,t)}return t}function sd(e,t,n,r,s,i,o,a,c){return e=xo(n,r,!0,e,s,i,o,a,c),e.context=rd(null),n=e.current,r=Te(),s=Dt(n),i=vt(r,s),i.callback=t??null,$t(n,i,s),e.current.lanes=s,Nr(e,s,r),$e(e,r),e}function Zs(e,t,n,r){var s=t.current,i=Te(),o=Dt(s);return n=rd(n),t.context===null?t.context=n:t.pendingContext=n,t=vt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$t(s,t,o),e!==null&&(tt(e,s,o,i),es(e,s,o)),o}function bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Da(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wo(e,t){Da(e,t),(e=e.alternate)&&Da(e,t)}function Qh(){return null}var id=typeof reportError=="function"?reportError:function(e){console.error(e)};function ko(e){this._internalRoot=e}Gs.prototype.render=ko.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Zs(e,t,null,null)};Gs.prototype.unmount=ko.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nn(function(){Zs(null,e,null,null)}),t[xt]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&t!==0&&t<_t[n].priority;n++);_t.splice(n,0,e),n===0&&Mc(e)}};function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ma(){}function Zh(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var g=bs(o);i.call(g)}}var o=sd(t,r,e,0,null,!1,!1,"",Ma);return e._reactRootContainer=o,e[xt]=o.current,hr(e.nodeType===8?e.parentNode:e),nn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var g=bs(c);a.call(g)}}var c=xo(e,0,!1,null,null,!1,!1,"",Ma);return e._reactRootContainer=c,e[xt]=c.current,hr(e.nodeType===8?e.parentNode:e),nn(function(){Zs(t,c,n,r)}),c}function Ks(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=bs(o);a.call(c)}}Zs(t,o,e,s)}else o=Zh(n,t,e,s,r);return bs(o)}bc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zn(t.pendingLanes);n!==0&&(Bl(t,n|1),$e(t,ue()),!(X&6)&&(Rn=ue()+500,Wt()))}break;case 13:nn(function(){var r=wt(e,1);if(r!==null){var s=Te();tt(r,e,1,s)}}),wo(e,1)}};zl=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Te();tt(t,e,134217728,n)}wo(e,134217728)}};$c=function(e){if(e.tag===13){var t=Dt(e),n=wt(e,t);if(n!==null){var r=Te();tt(n,e,t,r)}wo(e,t)}};Oc=function(){return J};Dc=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Ui=function(e,t,n){switch(t){case"input":if(Oi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Bs(r);if(!s)throw Error(R(90));pc(r),Oi(r,s)}}}break;case"textarea":gc(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};Nc=mo;jc=nn;var Gh={usingClientEntryPoint:!1,Events:[Cr,fn,Bs,kc,Sc,mo]},Un={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yh={bundleType:Un.bundleType,version:Un.version,rendererPackageName:Un.rendererPackageName,rendererConfig:Un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_c(e),e===null?null:e.stateNode},findFiberByHostInstance:Un.findFiberByHostInstance||Qh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qr.isDisabled&&Qr.supportsFiber)try{Os=Qr.inject(Yh),ot=Qr}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!So(t))throw Error(R(200));return Vh(e,t,null,n)};Be.createRoot=function(e,t){if(!So(e))throw Error(R(299));var n=!1,r="",s=id;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xo(e,1,!1,null,null,n,!1,r,s),e[xt]=t.current,hr(e.nodeType===8?e.parentNode:e),new ko(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=_c(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return nn(e)};Be.hydrate=function(e,t,n){if(!Ys(t))throw Error(R(200));return Ks(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!So(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=id;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sd(t,null,e,1,n??null,s,!1,i,o),e[xt]=t.current,hr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gs(t)};Be.render=function(e,t,n){if(!Ys(t))throw Error(R(200));return Ks(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(R(40));return e._reactRootContainer?(nn(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Be.unstable_batchedUpdates=mo;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ks(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function ld(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ld)}catch(e){console.error(e)}}ld(),lc.exports=Be;var Kh=lc.exports,Ha=Kh;Pi.createRoot=Ha.createRoot,Pi.hydrateRoot=Ha.hydrateRoot;const ut=Object.create(null);ut.open="0";ut.close="1";ut.ping="2";ut.pong="3";ut.message="4";ut.upgrade="5";ut.noop="6";const os=Object.create(null);Object.keys(ut).forEach(e=>{os[ut[e]]=e});const Sl={type:"error",data:"parser error"},od=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ad=typeof ArrayBuffer=="function",cd=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,No=({type:e,data:t},n,r)=>od&&t instanceof Blob?n?r(t):Ba(t,r):ad&&(t instanceof ArrayBuffer||cd(t))?n?r(t):Ba(new Blob([t]),r):r(ut[e]+(t||"")),Ba=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function za(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ei;function qh(e,t){if(od&&e.data instanceof Blob)return e.data.arrayBuffer().then(za).then(t);if(ad&&(e.data instanceof ArrayBuffer||cd(e.data)))return t(za(e.data));No(e,!1,n=>{Ei||(Ei=new TextEncoder),t(Ei.encode(n))})}const Fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fa.length;e++)Yn[Fa.charCodeAt(e)]=e;const Xh=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),v=new Uint8Array(g);for(r=0;r<n;r+=4)i=Yn[e.charCodeAt(r)],o=Yn[e.charCodeAt(r+1)],a=Yn[e.charCodeAt(r+2)],c=Yn[e.charCodeAt(r+3)],v[s++]=i<<2|o>>4,v[s++]=(o&15)<<4|a>>2,v[s++]=(a&3)<<6|c&63;return g},Jh=typeof ArrayBuffer=="function",jo=(e,t)=>{if(typeof e!="string")return{type:"message",data:ud(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:ep(e.substring(1),t)}:os[n]?e.length>1?{type:os[n],data:e.substring(1)}:{type:os[n]}:Sl},ep=(e,t)=>{if(Jh){const n=Xh(e);return ud(n,t)}else return{base64:!0,data:e}},ud=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},dd=String.fromCharCode(30),tp=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{No(i,!1,a=>{r[o]=a,++s===n&&t(r.join(dd))})})},np=(e,t)=>{const n=e.split(dd),r=[];for(let s=0;s<n.length;s++){const i=jo(n[s],t);if(r.push(i),i.type==="error")break}return r};function rp(){return new TransformStream({transform(e,t){qh(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let _i;function Zr(e){return e.reduce((t,n)=>t+n.length,0)}function Gr(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function sp(e,t){_i||(_i=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Zr(n)<1)break;const c=Gr(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Zr(n)<2)break;const c=Gr(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Zr(n)<8)break;const c=Gr(n,8),g=new DataView(c.buffer,c.byteOffset,c.length),v=g.getUint32(0);if(v>Math.pow(2,53-32)-1){a.enqueue(Sl);break}s=v*Math.pow(2,32)+g.getUint32(4),r=3}else{if(Zr(n)<s)break;const c=Gr(n,s);a.enqueue(jo(i?c:_i.decode(c),t)),r=0}if(s===0||s>e){a.enqueue(Sl);break}}}})}const fd=4;function fe(e){if(e)return ip(e)}function ip(e){for(var t in fe.prototype)e[t]=fe.prototype[t];return e}fe.prototype.on=fe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};fe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};fe.prototype.off=fe.prototype.removeListener=fe.prototype.removeAllListeners=fe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};fe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};fe.prototype.emitReserved=fe.prototype.emit;fe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};fe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qs=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),We=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),lp="arraybuffer";function hd(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const op=We.setTimeout,ap=We.clearTimeout;function Xs(e,t){t.useNativeTimers?(e.setTimeoutFn=op.bind(We),e.clearTimeoutFn=ap.bind(We)):(e.setTimeoutFn=We.setTimeout.bind(We),e.clearTimeoutFn=We.clearTimeout.bind(We))}const cp=1.33;function up(e){return typeof e=="string"?dp(e):Math.ceil((e.byteLength||e.size)*cp)}function dp(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function pd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fp(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function hp(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class pp extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Co extends fe{constructor(t){super(),this.writable=!1,Xs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new pp(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=jo(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=fp(t);return n.length?"?"+n:""}}class mp extends Co{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};np(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,tp(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=pd()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let md=!1;try{md=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const gp=md;function vp(){}class yp extends mp{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ct extends fe{constructor(t,n,r){super(),this.createRequest=t,Xs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=hd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ct.requestsCount++,ct.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=vp,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ct.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ct.requestsCount=0;ct.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ua);else if(typeof addEventListener=="function"){const e="onpagehide"in We?"pagehide":"unload";addEventListener(e,Ua,!1)}}function Ua(){for(let e in ct.requests)ct.requests.hasOwnProperty(e)&&ct.requests[e].abort()}const xp=function(){const e=gd({xdomain:!1});return e&&e.responseType!==null}();class wp extends yp{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=xp&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ct(gd,this.uri(),t)}}function gd(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||gp))return new XMLHttpRequest}catch{}if(!t)try{return new We[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const vd=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kp extends Co{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=vd?{}:hd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;No(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=pd()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ti=We.WebSocket||We.MozWebSocket;class Sp extends kp{createSocket(t,n,r){return vd?new Ti(t,n,r):n?new Ti(t,n):new Ti(t)}doWrite(t,n){this.ws.send(n)}}class Np extends Co{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=sp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=rp();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const jp={websocket:Sp,webtransport:Np,polling:wp},Cp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ep=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Cp.exec(e||""),i={},o=14;for(;o--;)i[Ep[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=_p(i,i.path),i.queryKey=Tp(i,i.query),i}function _p(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Tp(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const jl=typeof addEventListener=="function"&&typeof removeEventListener=="function",as=[];jl&&addEventListener("offline",()=>{as.forEach(e=>e())},!1);class Ht extends fe{constructor(t,n){if(super(),this.binaryType=lp,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Nl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Nl(n.host).host);Xs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hp(this.opts.query)),jl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},as.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=fd,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ht.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ht.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=up(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,qs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ht.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),jl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=as.indexOf(this._offlineEventListener);r!==-1&&as.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ht.protocol=fd;class Pp extends Ht{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ht.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",x=>{if(!r)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ht.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(v(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function i(){r||(r=!0,v(),n.close(),n=null)}const o=x=>{const w=new Error("probe error: "+x);w.transport=n.name,i(),this.emitReserved("upgradeError",w)};function a(){o("transport closed")}function c(){o("socket closed")}function g(x){n&&x.name!==n.name&&i()}const v=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",g)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Ap=class extends Pp{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>jp[s]).filter(s=>!!s)),super(t,r)}};function Rp(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Nl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Ip=typeof ArrayBuffer=="function",Lp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,yd=Object.prototype.toString,bp=typeof Blob=="function"||typeof Blob<"u"&&yd.call(Blob)==="[object BlobConstructor]",$p=typeof File=="function"||typeof File<"u"&&yd.call(File)==="[object FileConstructor]";function Eo(e){return Ip&&(e instanceof ArrayBuffer||Lp(e))||bp&&e instanceof Blob||$p&&e instanceof File}function cs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(cs(e[n]))return!0;return!1}if(Eo(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return cs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&cs(e[n]))return!0;return!1}function Op(e){const t=[],n=e.data,r=e;return r.data=Cl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Cl(e,t){if(!e)return e;if(Eo(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Cl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Cl(e[r],t));return n}return e}function Dp(e,t){return e.data=El(e.data,t),delete e.attachments,e}function El(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=El(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=El(e[n],t));return e}const Mp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Hp=5;var K;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class Bp{constructor(t){this.replacer=t}encode(t){return(t.type===K.EVENT||t.type===K.ACK)&&cs(t)?this.encodeAsBinary({type:t.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===K.BINARY_EVENT||t.type===K.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Op(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Wa(e){return Object.prototype.toString.call(e)==="[object Object]"}class _o extends fe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===K.BINARY_EVENT;r||n.type===K.BINARY_ACK?(n.type=r?K.EVENT:K.ACK,this.reconstructor=new zp(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Eo(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(K[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===K.BINARY_EVENT||r.type===K.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(_o.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case K.CONNECT:return Wa(n);case K.DISCONNECT:return n===void 0;case K.CONNECT_ERROR:return typeof n=="string"||Wa(n);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Mp.indexOf(n[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zp{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Dp(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_o,Encoder:Bp,get PacketType(){return K},protocol:Hp},Symbol.toStringTag,{value:"Module"}));function Xe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Up=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xd extends fe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xe(t,"open",this.onopen.bind(this)),Xe(t,"packet",this.onpacket.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(Up.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:K.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const v=this.ids++,x=n.pop();this._registerAckCallback(v,x),o.id=v}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case K.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(t);break;case K.ACK:case K.BINARY_ACK:this.onack(t);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:K.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function $n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}$n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};$n.prototype.reset=function(){this.attempts=0};$n.prototype.setMin=function(e){this.ms=e};$n.prototype.setMax=function(e){this.max=e};$n.prototype.setJitter=function(e){this.jitter=e};class _l extends fe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Xs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new $n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Fp;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ap(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Xe(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Xe(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xe(t,"ping",this.onping.bind(this)),Xe(t,"data",this.ondata.bind(this)),Xe(t,"error",this.onerror.bind(this)),Xe(t,"close",this.onclose.bind(this)),Xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){qs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new xd(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Wn={};function us(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Rp(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Wn[s]&&i in Wn[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new _l(r,t):(Wn[s]||(Wn[s]=new _l(r,t)),c=Wn[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(us,{Manager:_l,Socket:xd,io:us,connect:us});class Wp{constructor(){Pr(this,"socket",null);Pr(this,"reconnectAttempts",0);Pr(this,"maxReconnectAttempts",5)}connect(){var t;return(t=this.socket)!=null&&t.connected?this.socket:(this.socket=us("http://localhost:3001",{transports:["websocket"],upgrade:!1,reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log("Connected to server"),this.reconnectAttempts=0}),this.socket.on("disconnect",n=>{console.log("Disconnected from server:",n)}),this.socket.on("reconnect",n=>{console.log("Reconnected after",n,"attempts"),this.reconnectAttempts=0}),this.socket.on("reconnect_error",n=>{console.error("Reconnection failed:",n),this.reconnectAttempts++}),this.socket)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}getSocket(){return this.socket}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)||!1}authenticate(t){var n;(n=this.socket)==null||n.emit("authenticate",{userId:t})}joinGame(t,n="draft"){var r;(r=this.socket)==null||r.emit("join-game",{name:t,mode:n})}joinSurvivalGame(t,n){var r;(r=this.socket)==null||r.emit("join-survival-game",{name:t,team:n})}cancelSurvivalSearch(){var t;(t=this.socket)==null||t.emit("cancel-survival-search")}cancelSearch(){var t;(t=this.socket)==null||t.emit("cancel-search")}createFriendlyRoom(t,n){var r;(r=this.socket)==null||r.emit("create-friendly-room",{roomName:t,playerName:n})}joinFriendlyRoom(t,n){var r;(r=this.socket)==null||r.emit("join-friendly-room",{roomName:t,playerName:n})}banCard(t){var n;(n=this.socket)==null||n.emit("ban-card",{cardName:t})}pickCard(t){var n;(n=this.socket)==null||n.emit("pick-card",{cardName:t})}setAttackOrder(t){var n;(n=this.socket)==null||n.emit("set-attack-order",{heroOrder:t})}rollInitiative(){var t;(t=this.socket)==null||t.emit("roll-initiative")}chooseTurnOrder(t){var n;(n=this.socket)==null||n.emit("choose-turn-order",{goFirst:t})}selectTarget(t){var n;console.log(" SocketService sending select-target:",t),(n=this.socket)==null||n.emit("select-target",{targetId:t})}basicAttack(t){var n;(n=this.socket)==null||n.emit("basic-attack",{targetId:t})}useAbility(t,n,r){var s;(s=this.socket)==null||s.emit("use-ability",{abilityIndex:t,targetId:n,allyTargetId:r})}useTimekeeperSelectedAbility(t,n,r){var s;(s=this.socket)==null||s.emit("use-timekeeper-selected-ability",{timekeeperTargetId:t,allyTargetId:n,selectedAbilityIndex:r})}endTurn(){var t;(t=this.socket)==null||t.emit("end-turn")}surrenderGame(){var t;(t=this.socket)==null||t.emit("surrender-game")}autoDraft(){var t;(t=this.socket)==null||t.emit("auto-draft")}reconnectGame(t,n){var r;(r=this.socket)==null||r.emit("reconnect-game",{gameId:t,playerName:n})}getSurvivalState(){var t;(t=this.socket)==null||t.emit("get-survival-state")}resetSurvivalState(){var t;(t=this.socket)==null||t.emit("reset-survival-state")}returnToLobby(){var t;console.log(" SocketService sending return-to-lobby"),(t=this.socket)==null||t.emit("return-to-lobby")}}const ee=new Wp,Va=Object.freeze(Object.defineProperty({__proto__:null,socketService:ee},Symbol.toStringTag,{value:"Module"}));const Vp=({onClose:e,userId:t,victoryPoints:n=0})=>{var j,S;const[r,s]=D.useState([]),[i,o]=D.useState([]),[a,c]=D.useState(null),[g,v]=D.useState(!0),[x,w]=D.useState("alphabetical"),[E,T]=D.useState("available"),[P,M]=D.useState(0),[h,d]=D.useState(!1),m=14;D.useEffect(()=>{O()},[E]),D.useEffect(()=>{if(r.length>0){const p=$(r,x);o(p),M(0)}},[r,x,E]);const k=p=>{const _=p.match(/(\d+)D(\d+)/);if(_){const b=parseInt(_[1]),u=parseInt(_[2]);return b*u}return 0},L=p=>{const _=p.match(/[+-](\d+)/);return _?parseInt(_[1]):0},$=(p,_)=>{const b=[...p];switch(_){case"alphabetical":return b.sort((u,y)=>u.name.localeCompare(y.name));case"hp":return b.sort((u,y)=>y.HP-u.HP);case"ac":return b.sort((u,y)=>y.AC-u.AC);case"accuracy":return b.sort((u,y)=>L(y.Accuracy)-L(u.Accuracy));case"damage":return b.sort((u,y)=>k(y.BasicAttack)-k(u.BasicAttack));default:return b}},O=async()=>{try{console.log("Attempting to fetch heroes from:","http://localhost:3001/api/heroes");let p="http://localhost:3001/api/heroes";const _=new URLSearchParams;t?(_.append("userId",t.toString()),E==="all"&&_.append("showAll","true")):_.append("showAll","false"),_.toString()&&(p+="?"+_.toString());const b=await fetch(p);if(console.log("Response status:",b.status),console.log("Response ok:",b.ok),!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const u=await b.json();console.log("Fetched data:",u),console.log("Total heroes received:",u.length);let y=u;E==="available"&&(y=u.filter(N=>!N.disabled)),console.log("Filtered heroes:",y.length),s(y),v(!1)}catch(p){console.error("Error fetching heroes from API, using fallback data:",p);const _=[{name:"Barbarian",HP:25,AC:8,Accuracy:"+1",BasicAttack:"2d6+2",Ability:[{name:"Rage",description:"Increase damage for 3 turns",effects:[{type:"damage_boost",value:5,duration:3}]}],Special:[{name:"Berserker",description:"Continue fighting when low HP",effects:[{type:"survival",trigger:"low_hp"}]}]},{name:"Wizard",HP:15,AC:6,Accuracy:"+0",BasicAttack:"1d6",Ability:[{name:"Fireball",description:"Area damage spell",effects:[{type:"area_damage",value:"2d6"}]}],Special:[{name:"Arcane Power",description:"Bonus spell damage",effects:[{type:"spell_boost",value:3}]}]},{name:"Rogue",HP:18,AC:7,Accuracy:"+2",BasicAttack:"1d6+3",Ability:[{name:"Sneak Attack",description:"High damage from stealth",effects:[{type:"sneak_damage",value:"3d6"}]}],Special:[{name:"Evasion",description:"Avoid some attacks",effects:[{type:"dodge_chance",value:25}]}]}];console.log("Using fallback heroes for collection:",_.length),s(_),v(!1)}},B=p=>{c(a===p?null:p)},U=()=>Math.ceil(i.length/m),Q=()=>{const p=P*m,_=p+m;return i.slice(p,_)},C=()=>{h||(d(!0),c(null),setTimeout(()=>{const p=U();M(_=>(_+1)%p),setTimeout(()=>{d(!1)},50)},200))},f=()=>{h||(d(!0),c(null),setTimeout(()=>{const p=U();M(_=>(_-1+p)%p),setTimeout(()=>{d(!1)},50)},200))};return g?l.jsxs("div",{className:"collection-fullscreen",children:[l.jsxs("div",{className:"collection-header",children:[l.jsx("h2",{children:"Hero Collection"}),l.jsxs("div",{className:"header-right",children:[l.jsxs("div",{className:"victory-points",children:[l.jsx("span",{className:"trophy-icon",children:""}),l.jsxs("span",{className:"points-text",children:["Victory Points: ",n]})]}),l.jsx("button",{className:"close-btn",onClick:e,children:""})]})]}),l.jsxs("div",{className:"loading-state",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Loading heroes..."})]})]}):l.jsxs("div",{className:"collection-fullscreen",children:[l.jsxs("div",{className:"collection-header",children:[l.jsx("h2",{children:"Hero Collection"}),l.jsxs("div",{className:"header-controls",children:[l.jsxs("div",{className:"filter-controls",children:[l.jsxs("div",{className:"control-group",children:[l.jsx("label",{htmlFor:"filter-select",children:"Show:"}),l.jsxs("select",{id:"filter-select",value:E,onChange:p=>T(p.target.value),className:"filter-dropdown",children:[l.jsx("option",{value:"available",children:"Available Heroes"}),l.jsx("option",{value:"all",children:"All Heroes"})]})]}),l.jsxs("div",{className:"control-group",children:[l.jsx("label",{htmlFor:"sort-select",children:"Sort by:"}),l.jsxs("select",{id:"sort-select",value:x,onChange:p=>w(p.target.value),className:"sort-dropdown",children:[l.jsx("option",{value:"alphabetical",children:"Alphabetical"}),l.jsx("option",{value:"hp",children:"Most HP"}),l.jsx("option",{value:"ac",children:"Most AC"}),l.jsx("option",{value:"accuracy",children:"Most Accuracy"}),l.jsx("option",{value:"damage",children:"Highest Damage"})]})]})]}),l.jsxs("div",{className:"victory-points",children:[l.jsx("span",{className:"trophy-icon",children:""}),l.jsxs("span",{className:"points-text",children:["Victory Points: ",n]})]}),l.jsx("button",{className:"close-btn",onClick:e,children:""})]})]}),a!==null&&l.jsx("div",{className:"selection-overlay",onClick:()=>c(null)}),a!==null&&l.jsxs("div",{className:"hero-details-panel",children:[l.jsx("h3",{children:i[a].name}),l.jsxs("div",{className:"ability-section",children:[l.jsx("h4",{children:"Abilities"}),i[a].Ability.map((p,_)=>l.jsxs("div",{className:"ability-item",children:[l.jsx("div",{className:"ability-name",children:p.name}),l.jsx("div",{className:"ability-description",children:p.description})]},_))]}),l.jsxs("div",{className:"special-section",children:[l.jsx("h4",{children:"Special"}),Array.isArray(i[a].Special)?i[a].Special.map((p,_)=>l.jsxs("div",{className:"special-item",children:[l.jsx("div",{className:"special-name",children:p.name}),l.jsx("div",{className:"special-description",children:p.description})]},_)):l.jsxs("div",{className:"special-item",children:[l.jsx("div",{className:"special-name",children:((j=i[a].Special)==null?void 0:j.name)||"No Special"}),l.jsx("div",{className:"special-description",children:((S=i[a].Special)==null?void 0:S.description)||"No description available"})]})]})]}),l.jsx("div",{className:"collection-content",children:l.jsxs("div",{className:"collection-grid-container",children:[l.jsx("div",{className:`collection-grid ${h?"transitioning":""}`,children:Q().map((p,_)=>{const b=P*m+_;return l.jsxs("div",{className:`hero-card selectable collection-card ${a===b?"enlarged":""} ${p.disabled?"disabled-hero":""}`,onClick:()=>B(b),children:[l.jsx("img",{src:`http://localhost:3001/hero-images/${p.name}.png`,alt:p.name,className:"hero-image",onError:u=>{u.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=="}}),l.jsx("div",{className:"hero-card-content",children:l.jsxs("div",{className:"hero-stats",children:[l.jsxs("div",{className:"hero-name",children:[p.name,p.disabled&&l.jsx("span",{className:"disabled-badge",children:"Not Available"})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["HP: ",p.HP]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["AC: ",p.AC]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Accuracy: ",p.Accuracy]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Attack: ",p.BasicAttack]})]})]})})]},b)})}),U()>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:`pagination-arrow-overlay left-arrow ${h?"disabled":""}`,onClick:f,disabled:h,title:"Previous page",children:""}),l.jsx("button",{className:`pagination-arrow-overlay right-arrow ${h?"disabled":""}`,onClick:C,disabled:h,title:"Next page",children:""}),l.jsxs("div",{className:"page-indicator-overlay",children:[P+1," / ",U()]})]})]})})]})},Qp={poison:"A hero who is poisoned takes damage equal to their poison stacks at the end of each turn.",taunt:"Forces an enemy hero to attack the hero who taunted it instead of their intended target.",inspiration:"When rolling an attack or ability, can give it advantage by expending the inspiration.",silence:"Cannot use abilities while silenced.",disable_attack:"Cannot make basic attacks while stunned.",untargetable:"Cannot be targeted by attacks or abilities.",advantage:"Roll twice and take the higher result."},it=({hero:e,isSelectable:t=!1,isSelected:n=!1,isBanned:r=!1,isEnemy:s=!1,isCurrentTurn:i=!1,onClick:o,showFullInfo:a=!0,disableHPAnimations:c=!1})=>{const[g,v]=D.useState(!1),[x,w]=D.useState(null),[E,T]=D.useState(""),[P,M]=D.useState(!1),h=D.useRef(null),d=D.useRef(null),m=e.currentHP!==void 0?e.currentHP:typeof e.HP=="string"?parseInt(e.HP):e.HP,k=typeof e.HP=="string"?parseInt(e.HP):e.HP;D.useEffect(()=>{h.current===null&&(h.current=m,w(m))},[m]),D.useEffect(()=>{if(c){w(m),T(""),h.current=m;return}if(h.current!==null&&h.current!==m&&!P){const S=m-h.current,p=S>0,_=S<0;if(p||_){M(!0),T(p?"#00ff00":"#ff0000"),d.current&&clearTimeout(d.current);const b=h.current,u=m,y=p?1:-1;let N=b;const H=()=>{p&&N<u||_&&N>u?(N+=y,w(N),d.current=setTimeout(H,100)):(w(u),d.current=setTimeout(()=>{T(""),M(!1)},1e3))};H()}h.current=m}},[m,P,c]);const L=()=>{let S="hero-card";const _=(e.currentHP!==void 0?e.currentHP:typeof e.HP=="string"?parseInt(e.HP):e.HP)<=0;return _&&(S+=" dead"),t&&(S+=" selectable"),n&&(S+=" selected"),r&&(S+=" banned"),s&&(S+=" enemy"),s||(S+=" ally"),i&&!_&&(S+=" current-turn"),g&&a&&(S+=" hovered"),S},$=S=>S.split(" ").map((_,b)=>{const u=_.replace(/[.,;:!?]/g,"").toLowerCase(),y=Qp[u];return y?l.jsx("span",{className:`keyword ${u}`,children:l.jsxs("span",{className:"tooltip",children:[_,l.jsx("span",{className:"tooltiptext",children:y})]})},b):l.jsx("span",{children:_},b)}).reduce((_,b,u)=>(u>0&&_.push(" "),_.push(b),_),[]),O=()=>{var b;if(!e.statusEffects||!a)return null;const S=[],p=[];if(e.statusEffects.beast_active&&S.push(l.jsx("span",{className:"status-effect beast-active",title:"Beast Active: Beast Tamer's pet is summoned and can attack.",children:""},"beast-active")),e.statusEffects.totem_count&&e.statusEffects.totem_count>0&&S.push(l.jsxs("span",{className:"status-effect totem-count",title:`Totems: ${e.statusEffects.totem_count}/3 active - next ability deals ${e.statusEffects.totem_count}D4 damage`,children:[" ",e.statusEffects.totem_count]},"totem-count")),e.statusEffects.inspiration>0&&S.push(l.jsxs("span",{className:"status-effect inspiration",title:`Inspired: +${e.statusEffects.inspiration} to damage on next attack`,children:[" ",e.statusEffects.inspiration]},"inspiration")),e.statusEffects.damageStacks&&e.statusEffects.damageStacks>0&&S.push(l.jsxs("span",{className:"status-effect damage-stacks",title:`Damage Stacks: +${e.statusEffects.damageStacks} damage to all attacks`,children:[" ",e.statusEffects.damageStacks]},"damage-stacks")),e.statusEffects.untargetable&&S.push(l.jsx("span",{className:"status-effect untargetable",title:"Untargetable: Cannot be targeted by attacks or abilities",children:""},"untargetable")),e.statusEffects.poison>0&&p.push(l.jsxs("span",{className:"status-effect poison",title:`Poisoned: Takes ${e.statusEffects.poison} damage at turn end`,children:[" ",e.statusEffects.poison]},"poison")),e.statusEffects.taunt){const u=e.statusEffects.taunt.target||"unknown";p.push(l.jsx("span",{className:"status-effect taunt",title:`Taunted by ${u}: Must target ${u} on next attack`,children:""},"taunt"))}if(e.statusEffects.silenced===!0||typeof e.statusEffects.silenced=="object"&&((b=e.statusEffects.silenced)==null?void 0:b.active)){const u=typeof e.statusEffects.silenced=="object"?e.statusEffects.silenced.duration:"";p.push(l.jsx("span",{className:"status-effect silenced",title:`Silenced: Cannot use abilities${u?` (${u} turns left)`:""}`,children:""},"silenced"))}if(e.statusEffects.disableAttack){const u=typeof e.statusEffects.disableAttack=="object"?e.statusEffects.disableAttack.duration:"";p.push(l.jsx("span",{className:"status-effect disable-attack",title:`Attack Disabled: Cannot make basic attacks${u?` (${u} turns left)`:""}`,children:""},"disable-attack"))}if(e.statusEffects.grantAdvantage){const u=e.statusEffects.grantAdvantage.source||"unknown";p.push(l.jsx("span",{className:"status-effect grant-advantage",title:`Marked by ${u}: Next attack against this hero has advantage`,children:""},"grant-advantage"))}if(e.statusEffects.rideDownDebuff){const u=e.statusEffects.rideDownDebuff.source||"Cavalier";p.push(l.jsx("span",{className:"status-effect ride-down-debuff debuff",title:`Ride Down: All attacks against this hero have advantage (applied by ${u})`,children:""},"ride-down-debuff"))}return e.statusEffects.statModifiers&&Object.entries(e.statusEffects.statModifiers).forEach(([u,y])=>{var N,H;if(y!==0){const W=y>0?`+${y}`:`${y}`,Z=u==="AC"?"":"";let G=`${u} ${W}`;if(e.statusEffects&&(e.statusEffects.statModifierCasters||e.statusEffects.statModifierAbilities)){const A=Object.keys(e.statusEffects.statModifierCasters||{}).filter(F=>F.startsWith(`${u}_`));if(A.length>0){const F=A[0],q=(N=e.statusEffects.statModifierAbilities)==null?void 0:N[F],V=(H=e.statusEffects.statModifierCasters)==null?void 0:H[F];q?G=`${q}: ${u} ${W}`:V&&(G=`${V}: ${u} ${W}`)}}const I=l.jsxs("span",{className:`status-effect stat-modifier ${y<0?"debuff":"buff"}`,title:G,children:[Z," ",W]},`stat-modifier-${u}`);y>0?S.push(I):p.push(I)}}),l.jsxs(l.Fragment,{children:[S.length>0&&l.jsx("div",{className:"status-effects-buffs",children:S}),p.length>0&&l.jsx("div",{className:"status-effects-debuffs",children:p})]})},B=()=>!e.companions||e.companions.length===0||!a?null:l.jsx("div",{className:"companions",children:e.companions.map((S,p)=>l.jsx("span",{className:"companion",title:`${S.type} (Active)`,children:""},p))}),U=()=>`http://localhost:3001/hero-images/${e.name}.png`,Q=S=>S.startsWith("+")?S:`+${S}`,C=(S,p,_)=>p?"stat-buffed":_?"stat-debuffed":"",f=(S,p,_,b)=>{var G;const u=_&&_!==p,y=(b==null?void 0:b.filter(I=>S==="accuracy"&&I.stat==="accuracy"||S==="attack"&&I.stat==="damage"))||[],N=y.some(I=>I.value>0),H=y.some(I=>I.value<0),W=C(S,N,H);if(S==="attack"){let I=p,A=!1;if((G=e.statusEffects)!=null&&G.damageStacks&&e.statusEffects.damageStacks>0&&(I+=` + ${e.statusEffects.damageStacks}`,A=!0),y.length>0){const F=y.reduce((q,V)=>q+V.value,0);F>0&&(I+=` + ${F}`,A=!0)}if(A){const F=y.map(q=>`+${q.value} from ${q.sourceHero}'s ${q.sourceName}`).join(", ");return l.jsxs("span",{className:`buffed-stat ${W}`,children:[l.jsxs("span",{className:"buffed-text",children:["Attack: ",I]}),l.jsx("span",{className:"buff-tooltip",children:l.jsxs("span",{className:"buff-tooltiptext",children:["Buffed by: ",F]})})]})}}if(!u)return l.jsx("span",{className:W,children:S==="accuracy"?`Accuracy: ${Q(p)}`:`Attack: ${p}`});const Z=y.map(I=>`+${I.value} from ${I.sourceHero}'s ${I.sourceName}`).join(", ");return l.jsxs("span",{className:`buffed-stat ${W}`,children:[l.jsx("span",{className:"buffed-text",children:S==="accuracy"?`Accuracy: ${Q(_)}`:`Attack: ${_}`}),l.jsx("span",{className:"buff-tooltip",children:l.jsxs("span",{className:"buff-tooltiptext",children:["Buffed by: ",Z]})})]})},j=()=>{var W,Z,G,I,A,F,q;if(e.modifiedAC!==void 0){const V=e.modifiedAC,Ce=V!==e.AC?V>e.AC?"stat-buffed":"stat-debuffed":"";let he=`Base AC: ${e.AC}, Modified AC: ${V}`;if((Z=(W=e.statusEffects)==null?void 0:W.statModifiers)!=null&&Z.AC&&((G=e.statusEffects)!=null&&G.statModifierCasters)){const Ee=e.statusEffects.statModifiers.AC,Nt=Object.entries(e.statusEffects.statModifierCasters).filter(([dt])=>dt.startsWith("AC_")).map(([dt,_r])=>{const Tr=dt.includes("Piercing Shot")?"Piercing Shot":"ability";return`${Ee} AC from ${_r}'s ${Tr}`});Nt.length>0&&(he+=`
${Nt.join(", ")}`)}return l.jsxs("span",{className:`buffed-stat ${Ce}`,title:he,children:["AC: ",V]})}let S=e.AC,p=0,_=[];if((A=(I=e.statusEffects)==null?void 0:I.statModifiers)!=null&&A.AC)if(p=e.statusEffects.statModifiers.AC,S+=p,(F=e.statusEffects)!=null&&F.statModifierCasters){const V=Object.entries(e.statusEffects.statModifierCasters).filter(([ae])=>ae.startsWith("AC_")).map(([ae,Ce])=>{const he=ae.includes("Piercing")?"Piercing Shot":"ability";return`${p} AC from ${Ce}'s ${he}`});V.length>0?_.push(...V):_.push(`${p} AC modifier`)}else _.push(`${p} AC modifier`);e.permanentBuffs&&Object.values(e.permanentBuffs).forEach(V=>{Array.isArray(V)&&V.forEach(ae=>{ae.stat==="AC"&&(S+=ae.value,p+=ae.value,_.push(`${ae.value>0?"+":""}${ae.value} AC from ${ae.source||"permanent buff"}`))})});const b=((q=e.passiveBuffs)==null?void 0:q.filter(V=>V.stat==="AC"))||[];b.forEach(V=>{_.push(`${V.value>0?"+":""}${V.value} AC from ${V.sourceHero}'s ${V.sourceName}`)});const u=b.some(V=>V.value>0)||p>0,y=b.some(V=>V.value<0)||p<0,N=C("AC",u,y);if(p===0&&b.length===0)return l.jsxs("span",{children:["AC: ",e.AC]});const H=`Base AC: ${e.AC}, Effective AC: ${S}
${_.join(`
`)}`;return l.jsxs("span",{className:`buffed-stat ${N}`,title:H,children:["AC: ",S]})};return l.jsxs("div",{className:L(),onClick:t?o:void 0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[O(),B(),l.jsx("img",{src:U(),alt:e.name,className:"hero-image",onError:S=>{S.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=="}}),l.jsx("div",{className:"hero-card-content",children:l.jsxs("div",{className:"hero-stats",children:[l.jsx("div",{className:"hero-name",children:e.name}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{style:{color:E||"inherit"},children:["HP: ",x!==null?`${x}/${k}`:e.currentHP!==void 0?`${e.currentHP}/${e.HP}`:e.HP]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),j()]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),f("accuracy",e.Accuracy,e.modifiedAccuracy,e.passiveBuffs)]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),f("attack",e.BasicAttack,e.modifiedBasicAttack,e.passiveBuffs)]})]})}),a&&g&&l.jsxs("div",{className:"hero-tooltip",children:[l.jsxs("div",{className:"tooltip-section",children:[l.jsx("h4",{children:"Abilities"}),e.Ability.map((S,p)=>l.jsxs("div",{className:"tooltip-ability",children:[l.jsx("div",{className:"tooltip-ability-name",children:S.name}),l.jsx("div",{className:"tooltip-ability-description",children:$(S.description)})]},p))]}),e.Special&&l.jsxs("div",{className:"tooltip-section",children:[l.jsx("h4",{children:"Special"}),Array.isArray(e.Special)?e.Special.map((S,p)=>l.jsxs("div",{className:"tooltip-special",children:[l.jsx("div",{className:"tooltip-special-name",children:S.name}),l.jsx("div",{className:"tooltip-special-description",children:$(S.description)})]},p)):l.jsxs("div",{className:"tooltip-special",children:[l.jsx("div",{className:"tooltip-special-name",children:e.Special.name||"Special Ability"}),l.jsx("div",{className:"tooltip-special-description",children:$(e.Special.description||"Special ability details not available")})]})]})]})]})};const Zp=({onStartGame:e,onStartFriendlyGame:t,onStartSurvival:n,victoryPoints:r,user:s,onLogout:i,isSearching:o=!1,searchMode:a=null,onCancelSearch:c})=>{const[g,v]=D.useState(!1),[x,w]=D.useState(!1),[E,T]=D.useState("create"),[P,M]=D.useState(""),[h,d]=D.useState([]),[m,k]=D.useState(null),[L,$]=D.useState(!1),O=S=>{o&&c&&c(),e(S)},B=()=>{o&&c&&c(),w(!0)},U=()=>{w(!1),M(""),T("create")},Q=()=>{P.trim()&&(t(E,P.trim()),U())},C=()=>{o&&c&&c(),v(!0)},f=()=>{v(!1)},j=()=>{o&&c&&c(),n()};return D.useEffect(()=>{(async()=>{try{console.log("Fetching heroes from API...");const p=await fetch("http://localhost:3001/api/heroes");if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const _=await p.json();if(console.log("Heroes loaded successfully:",_.length,"heroes"),d(_),_.length>0){const b=_[Math.floor(Math.random()*_.length)];console.log("Setting random hero:",b.name),k(b)}}catch(p){console.error("Failed to fetch heroes from API, using fallback data:",p);const _=[{name:"Barbarian",HP:25,AC:8,Accuracy:"+1",BasicAttack:"2d6+2",Ability:[{name:"Rage",description:"Increase damage",effects:[{type:"damage_boost",value:5}]}],Special:[{name:"Berserker",description:"Continue fighting when low HP",effects:[{type:"survival",trigger:"low_hp"}]}]},{name:"Wizard",HP:15,AC:6,Accuracy:"+0",BasicAttack:"1d6",Ability:[{name:"Fireball",description:"Area damage spell",effects:[{type:"area_damage",value:"2d6"}]}],Special:[{name:"Arcane Power",description:"Bonus spell damage",effects:[{type:"spell_boost",value:3}]}]},{name:"Rogue",HP:18,AC:7,Accuracy:"+2",BasicAttack:"1d6+3",Ability:[{name:"Sneak Attack",description:"High damage from stealth",effects:[{type:"sneak_damage",value:"3d6"}]}],Special:[{name:"Evasion",description:"Avoid some attacks",effects:[{type:"dodge_chance",value:25}]}]}];if(console.log("Using fallback heroes:",_.length),d(_),_.length>0){const b=_[Math.floor(Math.random()*_.length)];console.log("Setting fallback random hero:",b.name),k(b)}}})()},[]),D.useEffect(()=>{if(h.length===0)return;const S=setInterval(()=>{$(!0),setTimeout(()=>{const p=Math.floor(Math.random()*h.length);k(h[p]),$(!1)},300)},4e3);return()=>clearInterval(S)},[h]),l.jsxs("div",{className:"game-lobby-modern",children:[l.jsxs("div",{className:"cosmic-background",children:[l.jsx("div",{className:"stars-layer"}),l.jsx("div",{className:"nebula-layer"}),l.jsx("div",{className:"energy-waves"})]}),l.jsx("header",{className:"lobby-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("div",{className:"logo-section",children:l.jsxs("div",{className:"logo-text",children:[l.jsx("h1",{children:"Hero's Call"}),l.jsx("span",{children:"Assemble your heroes and claim victory"})]})}),l.jsxs("div",{className:"user-stats",children:[l.jsxs("div",{className:"user-info",children:[l.jsxs("span",{className:"username",children:["Welcome, ",s.username,"!"]}),l.jsx("button",{className:"logout-button",onClick:i,children:"Logout"})]}),l.jsxs("div",{className:"victory-points",children:[l.jsx("span",{className:"trophy-icon",children:""}),l.jsxs("span",{className:"points-text",children:["Victory Points: ",r]})]})]})]})}),l.jsx("main",{className:"lobby-dashboard",children:l.jsxs("div",{className:"dashboard-grid",children:[l.jsxs("div",{className:"info-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Battle Guide"}),l.jsx("div",{className:"header-accent"})]}),l.jsx("div",{className:"panel-content",children:l.jsxs("div",{className:"guide-steps",children:[l.jsxs("div",{className:"step-item",children:[l.jsx("div",{className:"step-bullet"}),l.jsx("div",{className:"step-text",children:"Choose 3 heroes for your team"})]}),l.jsxs("div",{className:"step-item",children:[l.jsx("div",{className:"step-bullet"}),l.jsx("div",{className:"step-text",children:"Each hero has unique abilities and stats"})]}),l.jsxs("div",{className:"step-item",children:[l.jsx("div",{className:"step-bullet"}),l.jsx("div",{className:"step-text",children:"Use attacks and abilities strategically"})]}),l.jsxs("div",{className:"step-item",children:[l.jsx("div",{className:"step-bullet"}),l.jsx("div",{className:"step-text",children:"Defeat all enemy heroes to win"})]})]})})]}),l.jsxs("div",{className:"modes-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Game Modes"}),l.jsx("div",{className:"header-accent"})]}),l.jsxs("div",{className:"modes-grid",children:[l.jsxs("div",{className:`game-mode draft-mode ${o&&a==="draft"?"searching":""}`,onClick:o&&a==="draft"?void 0:()=>O("draft"),children:[l.jsx("div",{className:"mode-overlay"}),l.jsx("div",{className:"mode-icon",children:""}),o&&a==="draft"?l.jsxs("div",{className:"mode-info searching-info",children:[l.jsx("h3",{children:"Finding Opponent..."}),l.jsxs("div",{className:"searching-dots",children:[l.jsx("span",{className:"dot"}),l.jsx("span",{className:"dot"}),l.jsx("span",{className:"dot"})]})]}):l.jsxs("div",{className:"mode-info",children:[l.jsx("h3",{children:"Draft Mode"}),l.jsx("p",{children:"Strategic hero selection"})]}),o&&a==="draft"?l.jsxs("button",{className:"mode-cancel-btn",onClick:S=>{S.stopPropagation(),c==null||c()},children:[l.jsx("span",{children:"Leave Queue"}),l.jsx("div",{className:"btn-glow"})]}):l.jsxs("button",{className:"mode-play-btn",children:[l.jsx("span",{children:"Play Draft"}),l.jsx("div",{className:"btn-glow"})]})]}),l.jsxs("div",{className:`game-mode random-mode ${o&&a==="random"?"searching":""}`,onClick:o&&a==="random"?void 0:()=>O("random"),children:[l.jsx("div",{className:"mode-overlay"}),l.jsx("div",{className:"mode-icon",children:""}),o&&a==="random"?l.jsxs("div",{className:"mode-info searching-info",children:[l.jsx("h3",{children:"Finding Opponent..."}),l.jsxs("div",{className:"searching-dots",children:[l.jsx("span",{className:"dot"}),l.jsx("span",{className:"dot"}),l.jsx("span",{className:"dot"})]})]}):l.jsxs("div",{className:"mode-info",children:[l.jsx("h3",{children:"Random Mode"}),l.jsx("p",{children:"Quick battle start"})]}),o&&a==="random"?l.jsxs("button",{className:"mode-cancel-btn",onClick:S=>{S.stopPropagation(),c==null||c()},children:[l.jsx("span",{children:"Leave Queue"}),l.jsx("div",{className:"btn-glow"})]}):l.jsxs("button",{className:"mode-play-btn",children:[l.jsx("span",{children:"Play Random"}),l.jsx("div",{className:"btn-glow"})]})]}),l.jsxs("div",{className:"game-mode friendly-mode",onClick:B,children:[l.jsx("div",{className:"mode-overlay"}),l.jsx("div",{className:"mode-icon",children:""}),l.jsxs("div",{className:"mode-info",children:[l.jsx("h3",{children:"Friendly Battle"}),l.jsx("p",{children:"Play with friends"})]}),l.jsxs("button",{className:"mode-play-btn",children:[l.jsx("span",{children:"Create/Join"}),l.jsx("div",{className:"btn-glow"})]})]}),l.jsxs("div",{className:"game-mode survival-mode",onClick:j,children:[l.jsx("div",{className:"mode-overlay"}),l.jsx("div",{className:"mode-icon",children:""}),l.jsxs("div",{className:"mode-info",children:[l.jsx("h3",{children:"Survival Mode"}),l.jsx("p",{children:"Test your endurance"})]}),l.jsxs("button",{className:"mode-play-btn",children:[l.jsx("span",{children:"Enter Survival"}),l.jsx("div",{className:"btn-glow"})]})]})]})]}),l.jsxs("div",{className:"collection-panel",onClick:C,children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Hero Collection"}),l.jsx("div",{className:"header-accent"})]}),l.jsxs("div",{className:"collection-preview",children:[l.jsxs("div",{className:"collection-text",children:[l.jsx("h3",{children:"Explore Heroes"}),l.jsx("p",{children:"Browse all available heroes, abilities, and lore"})]}),l.jsxs("button",{className:"collection-btn",children:[l.jsx("span",{children:"View Collection"}),l.jsx("div",{className:"btn-arrow",children:""})]}),m&&l.jsx("div",{className:`random-hero-card ${L?"transitioning":""}`,children:l.jsx(it,{hero:{name:m.name,HP:m.HP,AC:m.AC,Accuracy:m.Accuracy,BasicAttack:m.BasicAttack,Ability:m.Ability,Special:m.Special},showFullInfo:!1,disableHPAnimations:!0})})]})]})]})}),g&&l.jsx(Vp,{onClose:f,userId:s.id,victoryPoints:r}),x&&l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"friendly-modal",children:[l.jsxs("div",{className:"friendly-modal-header",children:[l.jsx("h3",{children:"Friendly Battle"}),l.jsx("button",{className:"close-button",onClick:U,children:""})]}),l.jsxs("div",{className:"friendly-modal-content",children:[l.jsxs("div",{className:"action-selection",children:[l.jsxs("div",{className:`action-option ${E==="create"?"selected":""}`,onClick:()=>T("create"),children:[l.jsx("div",{className:"action-icon",children:""}),l.jsx("h4",{children:"Create Game"}),l.jsx("p",{children:"Create a new room and wait for a friend to join"})]}),l.jsxs("div",{className:`action-option ${E==="join"?"selected":""}`,onClick:()=>T("join"),children:[l.jsx("div",{className:"action-icon",children:""}),l.jsx("h4",{children:"Join Game"}),l.jsx("p",{children:"Enter a room name to join your friend's game"})]})]}),l.jsxs("div",{className:"room-input-section",children:[l.jsx("label",{htmlFor:"room-name",children:E==="create"?"Room Name:":"Enter Room Name:"}),l.jsx("input",{id:"room-name",type:"text",value:P,onChange:S=>M(S.target.value),placeholder:E==="create"?"Choose a room name...":"Enter room name to join...",className:"room-input",maxLength:20})]}),l.jsxs("div",{className:"friendly-modal-actions",children:[l.jsx("button",{className:"friendly-submit-button",onClick:Q,disabled:!P.trim(),children:E==="create"?"Create Room":"Join Room"}),l.jsx("button",{className:"friendly-cancel-button",onClick:U,children:"Cancel"})]})]})]})})]})},Gp=({gameState:e,currentPlayer:t,opponent:n,allHeroes:r})=>{const[s,i]=D.useState(null),[o,a]=D.useState([]);D.useEffect(()=>{i(null)},[e.currentDraftPhase,e.draftTurn]);const c=h=>r.find(d=>d.name===h),g=()=>{if(t.draftCards&&Array.isArray(t.draftCards))return console.log("Using current player draft cards:",t.draftCards.map(k=>k.name)),t.draftCards;if(!e.draftCards)return console.log("No draftCards in gameState"),[];const h=e.players.findIndex(k=>k.id===t.id);if(console.log("Player index:",h,"Current player ID:",t.id),h===-1)return console.error("Player not found in game state"),[];const d=h===0?e.draftCards.player1:e.draftCards.player2;if(console.log("Card names for player (fallback):",d),!d||!Array.isArray(d))return console.error("Invalid card names:",d),[];const m=d.map(k=>c(k)).filter(Boolean);return console.log("Mapped heroes (fallback):",m.map(k=>k.name)),m},v=()=>{s&&(ee.banCard(s),i(null))},x=()=>{s&&(ee.pickCard(s),i(null))},w=()=>{o.length===3&&ee.setAttackOrder(o)},E=()=>{var h;return(((h=t.team)==null?void 0:h.length)||0)<e.currentDraftPhase},T=()=>{const h=g(),d=h.slice(0,3),m=h.slice(3,5);return l.jsxs("div",{className:"draft-phase",children:[l.jsxs("div",{className:"draft-cards ban-phase",children:[l.jsx("div",{className:"ban-row-1",children:d.map(k=>l.jsx(it,{hero:k,isSelectable:!t.bannedCard,isSelected:s===k.name,onClick:()=>i(k.name)},k.name))}),m.length>0&&l.jsx("div",{className:"ban-row-2",children:m.map(k=>l.jsx(it,{hero:k,isSelectable:!t.bannedCard,isSelected:s===k.name,onClick:()=>i(k.name)},k.name))})]}),l.jsx("div",{className:"draft-actions",children:l.jsx("button",{onClick:v,disabled:!s||!!t.bannedCard,className:"action-button",children:"Ban Selected Card"})}),t.bannedCard&&l.jsxs("p",{children:["You banned: ",l.jsx("strong",{children:t.bannedCard})]}),(n==null?void 0:n.bannedCard)&&l.jsxs("p",{children:["Opponent banned: ",l.jsx("strong",{children:n.bannedCard})]})]})},P=()=>{var d,m;const h=g();return l.jsxs("div",{className:"draft-phase",children:[l.jsxs("div",{className:"teams-display",children:[l.jsxs("div",{className:"current-team",children:[l.jsxs("h3",{children:["Your Team (",((d=t.team)==null?void 0:d.length)||0,"/3)"]}),l.jsx("div",{className:"team-cards",children:(t.team||[]).map(k=>l.jsx(it,{hero:k},k.name))})]}),n&&l.jsxs("div",{className:"opponent-team",children:[l.jsxs("h3",{children:["Opponent's Team (",((m=n.team)==null?void 0:m.length)||0,"/3)"]}),l.jsx("div",{className:"team-cards",children:(n.team||[]).map(k=>l.jsx(it,{hero:k,isEnemy:!0},k.name))})]})]}),l.jsx("div",{className:"draft-cards",children:h.map(k=>l.jsx(it,{hero:k,isSelectable:E(),isSelected:s===k.name,onClick:()=>E()&&i(k.name)},k.name))}),l.jsx("div",{className:"draft-actions",children:l.jsx("button",{onClick:x,disabled:!s||!E(),className:"action-button",children:"Pick Selected Card"})})]})},M=()=>{const h=t.team.filter(d=>!o.includes(d.name));return l.jsxs("div",{className:"setup-phase",children:[l.jsx("h2",{children:"Set Attack Order"}),l.jsx("p",{children:"Arrange your heroes from left to right (leftmost attacks first):"}),l.jsxs("div",{className:"attack-order-setup",children:[l.jsxs("div",{className:"available-heroes",children:[l.jsx("h3",{children:"Available Heroes"}),h.map(d=>l.jsx(it,{hero:d,isSelectable:!0,onClick:()=>{o.length<3&&a([...o,d.name])},showFullInfo:!1},d.name))]}),l.jsxs("div",{className:"attack-order",children:[l.jsx("h3",{children:"Attack Order"}),l.jsx("div",{className:"ordered-heroes",children:o.map((d,m)=>{const k=c(d);return k?l.jsxs("div",{className:"ordered-hero",children:[l.jsx("span",{className:"position-number",children:m+1}),l.jsx(it,{hero:k,onClick:()=>{a(o.filter(L=>L!==d))},showFullInfo:!1})]},d):null})})]})]}),l.jsx("div",{className:"setup-actions",children:l.jsx("button",{onClick:w,disabled:o.length!==3,className:"action-button",children:"Confirm Attack Order"})})]})};return e.phase==="setup"?M():e.currentDraftPhase===0?T():P()},Qa=({gameState:e,currentPlayer:t,opponent:n,playerId:r,onReturnToLobby:s,isSurvivalMode:i=!1,timekeeperAbilitySelection:o,onClearTimekeeperSelection:a})=>{const[c,g]=D.useState(null),[v,x]=D.useState(null),[w,E]=D.useState(!1),T=()=>{var N;if(!v)return!1;const u=L(),y=(N=u==null?void 0:u.Ability)==null?void 0:N[v.abilityIndex];return(u==null?void 0:u.name)==="Timekeeper"&&(y==null?void 0:y.name)==="Chrono Shift"},P=u=>{v&&(ee.useAbility(v.abilityIndex,v.targetId,u),x(null))},M=(u,y)=>{var H;let N=y;if((H=u.statusEffects)!=null&&H.damageStacks&&u.statusEffects.damageStacks>0&&(N+=` + ${u.statusEffects.damageStacks}`),u.passiveBuffs){const Z=u.passiveBuffs.filter(G=>G.stat==="damage").reduce((G,I)=>G+I.value,0);Z>0&&(N+=` + ${Z}`)}return N},h=u=>u.Special?(Array.isArray(u.Special)?u.Special:[u.Special]).some(N=>{var H;return(H=N.effects)==null?void 0:H.some(W=>W.type==="modify_ability_usage"&&W.effect==="use_twice_per_turn")}):!1,d=u=>{if(!u.Special)return!1;const y=Array.isArray(u.Special)?u.Special:[u.Special];return!!(y.some(W=>{var Z;return W.name==="Frenzy"&&((Z=W.effects)==null?void 0:Z.some(G=>G.type==="extra_attack_per_turn"))})&&u.currentHP&&u.currentHP<10||y.some(W=>{var Z;return(Z=W.effects)==null?void 0:Z.some(G=>G.effect==="attack_twice")}))},m=()=>{var H,W,Z;const u=e.players.findIndex(G=>G.id===r),y=e.currentTurn===u,N=k();return N&&(((H=N.hero.statusEffects)==null?void 0:H.silenced)===!0||typeof((W=N.hero.statusEffects)==null?void 0:W.silenced)=="object"&&((Z=N.hero.statusEffects.silenced)!=null&&Z.active))&&console.log(` Active hero ${N.hero.name} is silenced (Player ${N.playerIndex})`),console.log(" Turn check:",{playerId:r,playerIndex:u,currentTurn:e.currentTurn,currentHeroTurn:e.currentHeroTurn,isMyTurn:y,activeHero:N?`${N.hero.name} (P${N.playerIndex})`:"none"}),y},k=()=>{if(!e.activeHero)return null;const u=e.activeHero.playerIndex,y=e.players[u];if(!y||!y.team)return null;const N=y.team.find(H=>H.name===e.activeHero.name);return N?{hero:N,playerIndex:u,heroIndex:e.activeHero.heroIndex}:null},L=()=>{if(!m())return null;const u=k();return u?u.hero:null},$=()=>{var H,W;if(!m())return console.log(" Not my turn, no targetable enemies"),[];if(!n)return console.log(" No opponent, no targetable enemies"),[];const u=e.players.find(Z=>Z.id===r);if(u!=null&&u.selectedTarget)return console.log(" Already have selected target:",u.selectedTarget),[];const y=L();if((W=(H=y==null?void 0:y.statusEffects)==null?void 0:H.taunt)!=null&&W.target){const Z=y.statusEffects.taunt.target,G=n.team.find(I=>I.name===Z);if(G){const I=G.currentHP!==void 0?G.currentHP:typeof G.HP=="string"?parseInt(G.HP):G.HP;return console.log(" Taunted, can only target:",Z),I>0?[G]:[]}}const N=n.team.filter(Z=>{var F;const I=(Z.currentHP!==void 0?Z.currentHP:typeof Z.HP=="string"?parseInt(Z.HP):Z.HP)>0,A=!((F=Z.statusEffects)!=null&&F.untargetable);return I&&A});return console.log(" Targetable enemies:",N.map(Z=>Z.name)),N},O=u=>{ee.selectTarget(u)},B=()=>{ee.rollInitiative()},U=u=>{ee.chooseTurnOrder(u),g(u)},Q=()=>{E(!0)},C=()=>{ee.surrenderGame(),E(!1)},f=()=>{E(!1)},j=()=>l.jsxs("div",{className:"initiative-phase",children:[l.jsx("h2",{children:"Roll Initiative"}),l.jsx("p",{children:"Roll a 20-sided die to determine turn order!"}),l.jsx("div",{className:"initiative-actions",children:l.jsx("button",{onClick:B,className:"action-button",disabled:t.initiativeRoll!==void 0,children:t.initiativeRoll!==void 0?`You rolled: ${t.initiativeRoll}`:"Roll Initiative"})}),(n==null?void 0:n.initiativeRoll)!==void 0&&l.jsxs("p",{children:["Opponent rolled: ",n.initiativeRoll]}),c===null&&t.initiativeRoll!==void 0&&(n==null?void 0:n.initiativeRoll)!==void 0&&t.initiativeRoll>n.initiativeRoll&&l.jsxs("div",{className:"turn-order-choice",children:[l.jsx("h3",{children:"You won initiative! Choose turn order:"}),l.jsx("button",{onClick:()=>U(!0),className:"action-button",children:"Go First"}),l.jsx("button",{onClick:()=>U(!1),className:"action-button",children:"Go Second"})]})]}),S=()=>{const u=$();return l.jsxs("div",{className:"battle-layout",children:[l.jsxs("div",{className:"game-board",children:[l.jsxs("div",{className:"opponent-area",children:[l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsxs("h3",{children:["Opponent's",`
`,"Team"]})}),l.jsx("div",{className:"team-display",children:n==null?void 0:n.team.map(y=>l.jsx(it,{hero:y,isCurrentTurn:(()=>{const N=k();return N?N.hero.name===y.name:!1})(),isEnemy:!0,isSelectable:m()&&u.includes(y),onClick:()=>{m()&&u.includes(y)&&O(y.name)}},y.name))})]}),l.jsxs("div",{className:"player-area",children:[l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsxs("h3",{children:["Your",`
`,"Team"]})}),l.jsx("div",{className:"team-display",children:t.team.map(y=>l.jsx(it,{hero:y,isCurrentTurn:(()=>{const N=k();return N?N.hero.name===y.name:!1})(),isSelectable:!!v&&(y.currentHP??0)>0&&(!T()||y.name!=="Timekeeper"&&y.Ability&&y.Ability.length>0),onClick:()=>{if(v&&(y.currentHP??0)>0){if(T()){if(y.name==="Timekeeper"){alert("Timekeeper cannot target itself with Chrono Shift!");return}if(!y.Ability||y.Ability.length===0){alert(`${y.name} has no abilities to copy with Chrono Shift!`);return}}P(y.name)}}},y.name))})]})]}),l.jsxs("div",{className:"action-bar",children:[l.jsx("h3",{children:"Actions"}),(()=>{var Z,G,I;if(!m()){const A=k();return A?l.jsxs("div",{className:"action-prompt",children:[l.jsxs("div",{children:["Waiting for ",A.hero.name]}),l.jsx("div",{style:{fontSize:"12px",color:"#888"},children:"Opponent's Turn"})]}):l.jsx("div",{className:"action-prompt",children:"Waiting for opponent..."})}const y=e.players.find(A=>A.id===r),N=k(),H=()=>{if(!(y!=null&&y.selectedTarget)||!n)return!1;const A=n.team.find(F=>F.name===y.selectedTarget);return A&&(A.currentHP||A.HP)>0};if(!N||!y)return l.jsx("div",{children:"No active hero"});if((N.hero.currentHP!==void 0?N.hero.currentHP:typeof N.hero.HP=="string"?parseInt(N.hero.HP):N.hero.HP)<=0)return l.jsxs("div",{className:"action-prompt",children:[l.jsxs("div",{children:["Your hero ",N.hero.name," has fallen! Turn will advance automatically..."]}),l.jsx("div",{style:{fontSize:"12px",color:"#888"},children:"(Backend is handling turn advancement)"})]});if(!y.selectedTarget)return l.jsx("div",{className:"action-prompt",children:"Select an enemy to target first!"});if(v){const A=L(),F=((G=(Z=A==null?void 0:A.Ability)==null?void 0:Z[v.abilityIndex])==null?void 0:G.name)||"Unknown Ability";return l.jsxs("div",{className:"action-prompt",children:[l.jsxs("div",{children:["Select an ally who's ability you want to trigger with ",F,"!"]}),l.jsx("button",{className:"action-button",onClick:()=>x(null),style:{marginTop:"10px"},children:"Cancel"})]})}return l.jsxs("div",{className:"action-buttons",children:[l.jsxs("div",{className:"hero-info",children:[l.jsx("strong",{children:N.hero.name}),l.jsxs("div",{style:{fontSize:"12px",color:"#ccc"},children:["HP: ",N.hero.currentHP||N.hero.HP," | AC: ",N.hero.modifiedAC||N.hero.AC," | Attack: ",M(N.hero,N.hero.BasicAttack)]})]}),l.jsxs("div",{className:"selected-target",children:["Target: ",l.jsx("strong",{children:y.selectedTarget})]}),N.hero.BasicAttack!==""&&(()=>{var he,Ee,Nt;const A=d(N.hero),F=y.usedAttacks||0,q=y.oneTwoPunchAttacksRemaining||0;let V=`Attack (${M(N.hero,N.hero.BasicAttack)})`;const ae=((he=N.hero.statusEffects)==null?void 0:he.disableAttack)===!0||typeof((Ee=N.hero.statusEffects)==null?void 0:Ee.disableAttack)=="object"&&((Nt=N.hero.statusEffects.disableAttack)==null?void 0:Nt.active);let Ce=!H()||ae;if(A?Ce=Ce||F>=2:Ce=Ce||y.hasUsedAttack,N.hero.name==="Monk"){const dt=y.monkAttacksRemaining||0;dt>0?(V+=` (${dt} left)`,Ce=!H()):(V+=" (Used)",Ce=!0)}else A?F===1?V+=" (1/2)":F>=2&&(V+=" (Used)"):y.hasUsedAttack&&(V+=" (Used)");return!H()&&!y.hasUsedAttack&&q===0&&(V+=" (Target Dead)"),ae&&(V+=" (Stunned)"),l.jsx("button",{className:`action-button ${ae?"disable-attack":""}`,disabled:Ce,onClick:()=>{ee.basicAttack(y.selectedTarget)},children:V})})(),(I=N.hero.Ability)==null?void 0:I.map((A,F)=>{var Nt,dt,_r,Tr,To,Po,Ao;const q=h(N.hero),V=N.hero.Ability&&N.hero.Ability.length>1,ae=((Nt=N.hero.statusEffects)==null?void 0:Nt.silenced)===!0||typeof((dt=N.hero.statusEffects)==null?void 0:dt.silenced)=="object"&&((_r=N.hero.statusEffects.silenced)==null?void 0:_r.active),Ce=(Tr=N.hero.permanentDisables)==null?void 0:Tr.abilities;let he,Ee=A.name;if(Ce)he=!0,Ee+=" (Disabled)";else if(q&&V)he=((To=y.usedAbilities)==null?void 0:To.includes(A.name))||!1,he&&(Ee+=" (Used)");else if(q&&!V){const ft=((Po=y.usedAbilities)==null?void 0:Po.filter(Js=>Js===A.name).length)||0;he=ft>=2,ft===1?Ee+=" (1/2)":ft>=2&&(Ee+=" (Used)")}else if(N.hero.name==="Sorcerer"&&y.twinSpellActive){const ft=((Ao=y.usedAbilities)==null?void 0:Ao.filter(Js=>Js===A.name).length)||0;he=ft>=2,ft===1?Ee+=" (1/2)":ft>=2&&(Ee+=" (Used)")}else he=y.hasUsedAbility,he&&(Ee+=" (Used)");return ae&&!Ce&&(he=!0,Ee+=" (Silenced)"),!H()&&!ae&&!he&&(he=!0,Ee+=" (Target Dead)"),l.jsx("button",{className:`action-button ${ae?"silenced":""} ${Ce?"permanently-disabled":""}`,disabled:he,onClick:()=>{N.hero.name==="Timekeeper"&&A.name==="Chrono Shift"?x({abilityIndex:F,targetId:y.selectedTarget}):A.requires_ally_target||A.secondary_effects&&A.secondary_effects.some(ft=>ft.target==="selected_ally")?x({abilityIndex:F,targetId:y.selectedTarget}):ee.useAbility(F,y.selectedTarget)},children:Ee},F)}),o&&l.jsxs("div",{className:"ability-selection",children:[l.jsxs("h4",{children:["Select ",o.ally,"'s Ability:"]}),l.jsx("div",{className:"ability-options",children:o.availableAbilities.map((A,F)=>l.jsxs("button",{className:"ability-option-button",onClick:()=>{ee.useTimekeeperSelectedAbility(o.target,o.ally,A.index),a==null||a()},children:[l.jsx("div",{className:"ability-name",children:A.name}),l.jsx("div",{className:"ability-description",children:A.description})]},F))}),l.jsx("button",{className:"action-button cancel-ability-selection",onClick:()=>a==null?void 0:a(),children:"Cancel"})]}),l.jsx("button",{className:"action-button end-turn-button",onClick:()=>{ee.endTurn()},children:"End Turn"})]})})()]})]})},p=()=>{s?s(!i):window.location.reload()},_=()=>{s?s(!0):window.location.reload()},b=()=>{const u=e.winner===r;return l.jsx("div",{className:"game-over-overlay",children:l.jsx("div",{className:"game-over-modal",children:l.jsxs("div",{className:"game-over-content",children:[l.jsx("h2",{className:`game-over-title ${u?"winner":"loser"}`,children:u?"You Win!":"You Lose!"}),l.jsx("p",{className:"game-over-message",children:u?"Congratulations! You have defeated your opponent!":"Better luck next time! Your opponent was victorious."}),i?l.jsxs("div",{className:"button-group",children:[l.jsx("button",{className:"return-to-lobby-button",onClick:p,children:"Return to Survival"}),l.jsx("button",{className:"return-to-lobby-button secondary",onClick:_,children:"Return to Main Lobby"})]}):l.jsx("button",{className:"return-to-lobby-button",onClick:p,children:"Return to Lobby"})]})})})};if(e.phase==="initiative")return j();{const u=S();return e.phase==="ended"?l.jsxs("div",{className:"battle-with-overlay",children:[u,b()]}):l.jsxs(l.Fragment,{children:[u,l.jsx("button",{className:"floating-surrender-button",onClick:Q,style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"8px",padding:"12px 20px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)",zIndex:1e3,transition:"all 0.2s ease"},onMouseEnter:y=>{y.currentTarget.style.backgroundColor="#c82333",y.currentTarget.style.transform="scale(1.05)"},onMouseLeave:y=>{y.currentTarget.style.backgroundColor="#dc3545",y.currentTarget.style.transform="scale(1)"},children:" Surrender"}),w&&l.jsx("div",{className:"game-over-overlay",children:l.jsx("div",{className:"game-over-modal",children:l.jsxs("div",{className:"game-over-content",children:[l.jsx("h2",{className:"surrender-title",children:"Surrender Game?"}),l.jsx("p",{className:"surrender-message",children:"Are you sure you want to surrender? This will immediately end the battle and your opponent will be declared the winner."}),l.jsxs("div",{className:"button-group",children:[l.jsx("button",{className:"return-to-lobby-button",onClick:C,style:{backgroundColor:"#dc3545"},children:"Yes, Surrender"}),l.jsx("button",{className:"return-to-lobby-button secondary",onClick:f,children:"Cancel"})]})]})})})]})}},Yp="modulepreload",Kp=function(e){return"/"+e},Za={},Ga=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Kp(i),i in Za)return;Za[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const x=s[v];if(x.href===i&&(!o||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const g=document.createElement("link");if(g.rel=o?"stylesheet":Yp,o||(g.as="script",g.crossOrigin=""),g.href=i,document.head.appendChild(g),o)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};const qp=({usedHeroes:e,onTeamSelected:t,currentTeam:n,onCancelSearch:r,isSearching:s=!1,user:i})=>{const[o,a]=D.useState([]),[c,g]=D.useState([]),[v,x]=D.useState(n),[w,E]=D.useState(0),[T,P]=D.useState(!0),[M,h]=D.useState(!1),[d,m]=D.useState(null),[k,L]=D.useState("alphabetical"),[$,O]=D.useState(!1);D.useEffect(()=>{O(s)},[s]);const B=6,U=3,Q={poison:"A hero who is poisoned takes damage equal to their poison stacks at the end of each turn.",taunt:"Forces an enemy hero to attack the hero who taunted it instead of their intended target.",inspiration:"When rolling an attack or ability, can give it advantage by expending the inspiration.",silence:"Cannot use abilities while silenced.",disable_attack:"Cannot make basic attacks while stunned.",untargetable:"Cannot be targeted by attacks or abilities.",advantage:"Roll twice and take the higher result."},C=I=>I.split(" ").map((F,q)=>{const V=F.replace(/[.,;:!?]/g,"").toLowerCase(),ae=Q[V];return ae?l.jsx("span",{className:`keyword ${V}`,children:l.jsxs("span",{className:"tooltip",children:[F,l.jsx("span",{className:"tooltiptext",children:ae})]})},q):l.jsx("span",{children:F},q)}).reduce((F,q,V)=>(V>0&&F.push(" "),F.push(q),F),[]);D.useEffect(()=>{p()},[i]);const f=I=>{const A=I.match(/(\d+)D(\d+)/);if(A){const F=parseInt(A[1]),q=parseInt(A[2]);return F*q}return 0},j=I=>{const A=I.match(/[+-](\d+)/);return A?parseInt(A[1]):0},S=(I,A)=>{const F=[...I];switch(A){case"alphabetical":return F.sort((q,V)=>q.name.localeCompare(V.name));case"hp":return F.sort((q,V)=>V.HP-q.HP);case"ac":return F.sort((q,V)=>V.AC-q.AC);case"accuracy":return F.sort((q,V)=>j(V.Accuracy)-j(q.Accuracy));case"damage":return F.sort((q,V)=>f(V.BasicAttack)-f(q.BasicAttack));default:return F}};D.useEffect(()=>{if(o.length>0){const I=o.filter(F=>!F.disabled&&!e.includes(F.name));console.log("Total heroes:",o.length),console.log("Used heroes:",e),console.log("Available heroes:",I.length);const A=S(I,k);g(A),E(0)}},[o,e,k]);const p=async()=>{try{let I="http://localhost:3001/api/heroes";i&&(I+=`?userId=${i.id}`);const A=await fetch(I);if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const F=await A.json();a(F),P(!1)}catch(I){console.error("Error fetching heroes from API, using fallback data:",I);const A=[{name:"Barbarian",HP:25,AC:8,Accuracy:"+1",BasicAttack:"2d6+2",Ability:[{name:"Rage",description:"Increase damage for 3 turns",effects:[{type:"damage_boost",value:5,duration:3}]}],Special:[{name:"Berserker",description:"Continue fighting when low HP",effects:[{type:"survival",trigger:"low_hp"}]}]},{name:"Wizard",HP:15,AC:6,Accuracy:"+0",BasicAttack:"1d6",Ability:[{name:"Fireball",description:"Area damage spell",effects:[{type:"area_damage",value:"2d6"}]}],Special:[{name:"Arcane Power",description:"Bonus spell damage",effects:[{type:"spell_boost",value:3}]}]},{name:"Rogue",HP:18,AC:7,Accuracy:"+2",BasicAttack:"1d6+3",Ability:[{name:"Sneak Attack",description:"High damage from stealth",effects:[{type:"sneak_damage",value:"3d6"}]}],Special:[{name:"Evasion",description:"Avoid some attacks",effects:[{type:"dodge_chance",value:25}]}]},{name:"Paladin",HP:22,AC:9,Accuracy:"+1",BasicAttack:"1d8+3",Ability:[{name:"Divine Strike",description:"Holy damage attack",effects:[{type:"holy_damage",value:"2d8"}]}],Special:[{name:"Divine Protection",description:"Damage reduction",effects:[{type:"damage_reduction",value:3}]}]},{name:"Archer",HP:16,AC:6,Accuracy:"+3",BasicAttack:"1d8+2",Ability:[{name:"Multi-Shot",description:"Attack multiple enemies",effects:[{type:"multi_attack",value:3}]}],Special:[{name:"Eagle Eye",description:"Increased accuracy",effects:[{type:"accuracy_boost",value:2}]}]}];console.log("Using fallback heroes for survival:",A.length),a(A),P(!1)}},_=()=>Math.ceil(c.length/B),b=()=>{const I=w*B,A=I+B;return c.slice(I,A)},u=()=>{M||(h(!0),setTimeout(()=>{const I=_();E(A=>(A+1)%I),setTimeout(()=>{h(!1)},50)},200))},y=()=>{M||(h(!0),setTimeout(()=>{const I=_();E(A=>(A-1+I)%I),setTimeout(()=>{h(!1)},50)},200))},N=I=>{v.length<U&&!v.find(A=>A.name===I.name)&&x([...v,I])},H=I=>{x(v.filter(A=>A.name!==I.name))},W=()=>{v.length===U&&(O(!0),t(v))},Z=()=>{O(!1),r&&r()},G=I=>v.some(A=>A.name===I.name);return T?l.jsx("div",{className:"survival-team-builder",children:l.jsxs("div",{className:"loading-state",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Loading heroes..."})]})}):l.jsx("div",{className:"survival-team-builder",children:l.jsxs("div",{className:"survival-split-layout",children:[l.jsxs("div",{className:"hero-browser-side",children:[l.jsxs("div",{className:"hero-browser-header",children:[l.jsx("div",{className:"page-indicator",children:_()>1?`Page ${w+1} of ${_()}`:`${c.length} Heroes`}),l.jsxs("div",{className:"sort-controls",children:[l.jsx("label",{htmlFor:"survival-sort-select",children:"Sort by:"}),l.jsxs("select",{id:"survival-sort-select",value:k,onChange:I=>L(I.target.value),className:"survival-sort-dropdown",children:[l.jsx("option",{value:"alphabetical",children:"Alphabetical"}),l.jsx("option",{value:"hp",children:"Most HP"}),l.jsx("option",{value:"ac",children:"Most AC"}),l.jsx("option",{value:"accuracy",children:"Most Accuracy"}),l.jsx("option",{value:"damage",children:"Highest Damage"})]})]})]}),l.jsx("div",{className:"available-heroes-section",children:c.length===0?l.jsxs("div",{className:"no-heroes-available",children:[l.jsx("h3",{children:"No Heroes Available"}),l.jsx("p",{children:"You have used all available heroes in this survival run."})]}):l.jsxs("div",{className:"heroes-grid-container",children:[l.jsx("div",{className:`heroes-grid ${M?"transitioning":""}`,children:b().map(I=>l.jsxs("div",{className:`hero-card survival-card ${G(I)?"selected":""} ${d===I.name?"hovered":""}`,onClick:()=>N(I),onMouseEnter:()=>m(I.name),onMouseLeave:()=>m(null),children:[l.jsx("img",{src:`http://localhost:3001/hero-images/${I.name}.png`,alt:I.name,className:"hero-image",onError:A=>{A.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=="}}),l.jsx("div",{className:"hero-card-content",children:l.jsxs("div",{className:"hero-stats",children:[l.jsx("div",{className:"hero-name",children:I.name}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["HP: ",I.HP]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["AC: ",I.AC]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Accuracy: ",I.Accuracy]})]}),l.jsxs("div",{className:"hero-stats-row",children:[l.jsx("span",{className:"stat-icon",children:""}),l.jsxs("span",{children:["Attack: ",I.BasicAttack]})]})]})}),G(I)&&l.jsx("div",{className:"selection-indicator",children:""}),d===I.name&&l.jsxs("div",{className:"hero-tooltip",children:[l.jsxs("div",{className:"tooltip-section",children:[l.jsx("h4",{children:"Abilities"}),I.Ability.map((A,F)=>l.jsxs("div",{className:"tooltip-ability",children:[l.jsx("div",{className:"tooltip-ability-name",children:A.name}),l.jsx("div",{className:"tooltip-ability-description",children:C(A.description)})]},F))]}),I.Special&&l.jsxs("div",{className:"tooltip-section",children:[l.jsx("h4",{children:"Special"}),Array.isArray(I.Special)?I.Special.map((A,F)=>l.jsxs("div",{className:"tooltip-special",children:[l.jsx("div",{className:"tooltip-special-name",children:A.name}),l.jsx("div",{className:"tooltip-special-description",children:C(A.description)})]},F)):l.jsxs("div",{className:"tooltip-special",children:[l.jsx("div",{className:"tooltip-special-name",children:I.Special.name||"Special Ability"}),l.jsx("div",{className:"tooltip-special-description",children:C(I.Special.description||"Special ability details not available")})]})]})]})]},I.name))}),_()>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:`pagination-arrow-overlay left-arrow ${M?"disabled":""}`,onClick:y,disabled:M,title:"Previous page",children:""}),l.jsx("button",{className:`pagination-arrow-overlay right-arrow ${M?"disabled":""}`,onClick:u,disabled:M,title:"Next page",children:""})]})]})})]}),l.jsxs("div",{className:"team-selection-side",children:[l.jsxs("div",{className:"team-selection-header",children:[l.jsx("h2",{children:"Select Your Team"}),l.jsx("p",{children:"Choose 3 heroes for your survival battle"})]}),l.jsx("div",{className:"selected-team",children:Array.from({length:U},(I,A)=>l.jsx("div",{className:"team-slot",children:v[A]?l.jsxs("div",{className:"selected-hero",onClick:()=>H(v[A]),children:[l.jsx("img",{src:`http://localhost:3001/hero-images/${v[A].name}.png`,alt:v[A].name,className:"selected-hero-image",onError:F=>{F.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=="}}),l.jsx("div",{className:"selected-hero-name",children:v[A].name}),l.jsx("div",{className:"remove-hero-hint",children:"Click to remove"})]}):l.jsx("div",{className:"empty-slot",children:l.jsxs("div",{className:"empty-slot-content",children:[l.jsx("span",{className:"slot-number",children:A+1}),l.jsx("span",{className:"slot-hint",children:"Select Hero"})]})})},A))}),v.length===U&&l.jsx("div",{className:"start-battle-container",children:$?l.jsxs("div",{className:"matchmaking-status",children:[l.jsxs("div",{className:"waiting-message",children:[l.jsx("h3",{children:" Searching for opponent..."}),l.jsx("p",{children:"Please wait while we find you a worthy challenger!"}),l.jsxs("div",{className:"loading-dots",children:[l.jsx("span",{children:"."}),l.jsx("span",{children:"."}),l.jsx("span",{children:"."})]})]}),l.jsx("button",{className:"cancel-search-btn",onClick:Z,children:"Cancel Search"})]}):l.jsx("button",{className:"start-battle-btn",onClick:W,children:"Start Battle with Selected Team"})})]})]})})};const Xp=({wins:e,losses:t})=>{const s=e/7*100,i=t/3*100,o=()=>e===0?.3:Math.min(.3+e/7*.7,1),a=()=>t===0?.3:Math.min(.3+t/3*.7,1);return l.jsxs("div",{className:"survival-progress",children:[l.jsx("h3",{children:"Survival Progress"}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"progress-label",children:[l.jsx("span",{className:"progress-title",children:"Wins"}),l.jsxs("span",{className:"progress-count",children:[e," / ",7]})]}),l.jsxs("div",{className:"progress-bar-container",children:[l.jsx("div",{className:"progress-bar wins-bar",style:{width:`${s}%`,opacity:o(),boxShadow:`0 0 ${10+e*3}px rgba(0, 123, 255, ${o()})`}}),l.jsx("div",{className:"progress-bar-background"})]})]}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"progress-label",children:[l.jsx("span",{className:"progress-title",children:"Losses"}),l.jsxs("span",{className:"progress-count",children:[t," / ",3]})]}),l.jsxs("div",{className:"progress-bar-container",children:[l.jsx("div",{className:"progress-bar losses-bar",style:{width:`${i}%`,opacity:a(),boxShadow:`0 0 ${10+t*3}px rgba(255, 0, 0, ${a()})`}}),l.jsx("div",{className:"progress-bar-background"})]})]}),e===7&&l.jsx("div",{className:"progress-achievement",children:" Perfect Run!"}),t===3&&l.jsx("div",{className:"progress-elimination",children:" Eliminated"})]})};const Jp=({usedHeroes:e})=>{const t=[...new Set(e)].sort();return l.jsxs("div",{className:"survival-used-heroes",children:[l.jsx("h3",{children:"Used Heroes"}),l.jsx("div",{className:"used-heroes-subtitle",children:"These heroes are no longer available for selection"}),t.length===0?l.jsxs("div",{className:"no-used-heroes",children:[l.jsx("p",{children:"No heroes used yet"}),l.jsx("p",{className:"hint",children:"Heroes you use in battles will appear here"})]}):l.jsx("div",{className:"used-heroes-list",children:t.map((n,r)=>l.jsxs("div",{className:"used-hero-item",children:[l.jsx("img",{src:`http://localhost:3001/hero-images/${n}.png`,alt:n,className:"used-hero-image",onError:s=>{s.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iIzMzMyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vPC90ZXh0Pjwvc3ZnPg=="}}),l.jsx("span",{className:"used-hero-name",children:n})]},r))}),t.length>0&&l.jsxs("div",{className:"used-heroes-count",children:[t.length," hero",t.length!==1?"s":""," used"]})]})};const em=({onReturnToLobby:e,onStartBattle:t,onCancelSearch:n,isSearchingForMatch:r=!1,user:s})=>{const[i,o]=D.useState({wins:0,losses:0,usedHeroes:[],currentTeam:[],isActive:!0}),[a,c]=D.useState(!1),[g,v]=D.useState(""),[x,w]=D.useState(!1);D.useEffect(()=>{console.log(" SurvivalMode: Setting up survival state listeners...");let m=[];return(async()=>{const{socketService:L}=await Ga(()=>Promise.resolve().then(()=>Va),void 0),$=L.getSocket()||L.connect();if($){$.connected||await new Promise(U=>{$.connected?U():$.once("connect",()=>U())}),console.log(" SurvivalMode: Requesting survival state from server..."),L.getSurvivalState();const O=U=>{console.log(" SurvivalMode: Received state from server:",U.state),o(Q=>({...Q,wins:U.state.wins,losses:U.state.losses,usedHeroes:U.state.usedHeroes,isActive:U.state.isActive}))},B=U=>{console.log(" SurvivalMode: Received state update:",U.type,U.state),o(Q=>({...Q,wins:U.state.wins,losses:U.state.losses,usedHeroes:U.state.usedHeroes,isActive:U.state.isActive}))};$.on("survival-state-response",O),$.on("survival-state-update",B),m.push(()=>{$.off("survival-state-response",O),$.off("survival-state-update",B)})}})(),()=>{m.forEach(L=>L())}},[]),D.useEffect(()=>{i.wins>=7?(v("Congratulations! You achieved 7 wins in Survival mode!"),c(!0)):i.losses>=3&&(v(`Your survival run has ended with ${i.wins} wins. Better luck next time!`),c(!0))},[i.wins,i.losses]);const E=m=>{o(k=>({...k,currentTeam:m})),t(m)},T=()=>{n&&n()},P=()=>{w(!0)},M=()=>{console.log(" Abandoning survival run - requesting reset from server"),w(!1),Ga(()=>Promise.resolve().then(()=>Va),void 0).then(({socketService:m})=>{m.resetSurvivalState()})},h=()=>{w(!1)},d=()=>{o({wins:0,losses:0,usedHeroes:[],currentTeam:[],isActive:!0}),c(!1)};return x?l.jsx("div",{className:"survival-end-modal",children:l.jsxs("div",{className:"survival-end-content",children:[l.jsx("h2",{children:"Abandon Survival Run?"}),l.jsxs("p",{children:["Are you sure you want to abandon your current survival run? This will reset your wins (",i.wins,"), losses (",i.losses,"), and used heroes."]}),l.jsxs("div",{className:"survival-end-buttons",children:[l.jsx("button",{className:"survival-btn danger",onClick:M,children:"Yes, Abandon Run"}),l.jsx("button",{className:"survival-btn secondary",onClick:h,children:"Cancel"})]})]})}):a?l.jsx("div",{className:"survival-end-modal",children:l.jsxs("div",{className:"survival-end-content",children:[l.jsx("h2",{children:"Survival Run Complete"}),l.jsx("p",{children:g}),l.jsxs("div",{className:"survival-end-buttons",children:[l.jsx("button",{className:"survival-btn primary",onClick:d,children:"Start New Run"}),l.jsx("button",{className:"survival-btn secondary",onClick:e,children:"Return to Lobby"})]})]})}):l.jsxs("div",{className:"survival-mode-container",children:[l.jsxs("div",{className:"survival-header",children:[l.jsx("h1",{children:"Survival Mode"}),l.jsxs("div",{className:"survival-header-buttons",children:[l.jsx("button",{className:"survival-btn danger",onClick:P,children:"Abandon Run"}),l.jsx("button",{className:"survival-btn secondary",onClick:e,children:"Return to Lobby"})]})]}),l.jsxs("div",{className:"survival-content",children:[l.jsxs("div",{className:"survival-sidebar",children:[l.jsx(Xp,{wins:i.wins,losses:i.losses}),l.jsx(Jp,{usedHeroes:i.usedHeroes})]}),l.jsx("div",{className:"survival-main",children:l.jsx(qp,{usedHeroes:i.usedHeroes,onTeamSelected:E,currentTeam:i.currentTeam,onCancelSearch:T,isSearching:r,user:s})})]})]})};const tm=({onTransitionComplete:e})=>(D.useEffect(()=>{const t=setTimeout(()=>{e()},800);return()=>{clearTimeout(t)}},[e]),l.jsx("div",{className:"survival-battle-transition fade-out",children:l.jsx("div",{className:"transition-overlay"})}));const nm=({onLogin:e,onShowRegister:t})=>{const[n,r]=D.useState(""),[s,i]=D.useState(""),[o,a]=D.useState(!1),[c,g]=D.useState(""),[v,x]=D.useState(!1),[w,E]=D.useState(!1);D.useEffect(()=>{const M=localStorage.getItem("heroCallRememberMe");if(M)try{const{username:h,password:d,expiry:m}=JSON.parse(M);if(m&&Date.now()>m){localStorage.removeItem("heroCallRememberMe");return}r(h),i(d),x(!0),E(!0)}catch(h){console.error("Error loading saved credentials:",h),localStorage.removeItem("heroCallRememberMe")}},[]);const T=M=>{x(M),M||localStorage.removeItem("heroCallRememberMe")},P=async M=>{if(M.preventDefault(),!n.trim()||!s.trim()){g("Please fill in all fields");return}a(!0),g("");try{const h=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:s})}),d=await h.json();if(d.success){if(v){const m=Date.now()+2592e6;localStorage.setItem("heroCallRememberMe",JSON.stringify({username:n,password:s,expiry:m}))}else localStorage.removeItem("heroCallRememberMe");e(d.user)}else h.status===409?g(` Account Already Active

This account is currently logged in from another session. You can either:
 Close the other session and try again
 Use a different account`):g(d.message||"Login failed")}catch(h){console.error("Login error:",h),g("Connection failed. Please try again.")}finally{a(!1)}};return l.jsxs("div",{className:"login-page",children:[l.jsx("div",{className:"login-background",children:l.jsxs("div",{className:"background-heroes",children:[l.jsx("div",{className:"hero-silhouette hero-1"}),l.jsx("div",{className:"hero-silhouette hero-2"}),l.jsx("div",{className:"hero-silhouette hero-3"})]})}),l.jsxs("div",{className:"login-container",children:[l.jsx("div",{className:"login-header",children:l.jsx("h1",{className:"game-title",children:"Hero's Call"})}),l.jsxs("form",{className:"login-form",onSubmit:P,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"username",children:"Username"}),l.jsx("input",{type:"text",id:"username",value:n,onChange:M=>{r(M.target.value),E(!1)},placeholder:"Enter your username",className:"form-input",disabled:o})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:s,onChange:M=>{i(M.target.value),E(!1)},placeholder:"Enter your password",className:"form-input",disabled:o})]}),l.jsxs("div",{className:"form-group remember-me-group",children:[l.jsxs("label",{className:"remember-me-label",children:[l.jsx("input",{type:"checkbox",id:"remember-me",checked:v,onChange:M=>T(M.target.checked),className:"remember-me-checkbox",disabled:o}),l.jsx("span",{className:"checkbox-custom"}),"Remember my login information"]}),w&&l.jsx("div",{className:"auto-filled-notice",children:" Login information loaded from saved data"})]}),c&&l.jsx("div",{className:"error-message",children:c}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"submit",className:"login-button",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"loading-spinner"}),"Logging in..."]}):"Login"}),l.jsxs("div",{className:"register-section",children:[l.jsx("p",{children:"Don't have an account?"}),l.jsx("button",{type:"button",className:"register-link",onClick:t,disabled:o,children:"Create Account"})]})]})]})]})]})};const rm=({onRegisterSuccess:e,onBackToLogin:t})=>{const[n,r]=D.useState(""),[s,i]=D.useState(""),[o,a]=D.useState(""),[c,g]=D.useState(!1),[v,x]=D.useState(""),[w,E]=D.useState(""),T=()=>n.trim()?n.length<3?"Username must be at least 3 characters long":n.length>20?"Username must be less than 20 characters":/^[a-zA-Z0-9_]+$/.test(n)?s?s.length<6?"Password must be at least 6 characters long":s!==o?"Passwords do not match":null:"Password is required":"Username can only contain letters, numbers, and underscores":"Username is required",P=async M=>{M.preventDefault();const h=T();if(h){x(h);return}g(!0),x(""),E("");try{const m=await(await fetch("http://localhost:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:s})})).json();m.success?(E("Account created successfully! You can now login."),setTimeout(()=>{e()},2e3)):x(m.message||"Registration failed")}catch(d){console.error("Registration error:",d),x("Connection failed. Please try again.")}finally{g(!1)}};return l.jsxs("div",{className:"register-page",children:[l.jsx("div",{className:"register-background",children:l.jsxs("div",{className:"background-heroes",children:[l.jsx("div",{className:"hero-silhouette hero-1"}),l.jsx("div",{className:"hero-silhouette hero-2"}),l.jsx("div",{className:"hero-silhouette hero-3"}),l.jsx("div",{className:"hero-silhouette hero-4"})]})}),l.jsxs("div",{className:"register-container",children:[l.jsxs("div",{className:"register-header",children:[l.jsx("h1",{className:"game-title",children:"Join Hero's Call"}),l.jsx("p",{className:"game-subtitle",children:"Create your legend"})]}),l.jsxs("form",{className:"register-form",onSubmit:P,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"username",children:"Username"}),l.jsx("input",{type:"text",id:"username",value:n,onChange:M=>r(M.target.value),placeholder:"Choose a unique username",className:"form-input",disabled:c,maxLength:20}),l.jsx("div",{className:"form-hint",children:"3-20 characters, letters, numbers, and underscores only"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:s,onChange:M=>i(M.target.value),placeholder:"Enter a secure password",className:"form-input",disabled:c}),l.jsx("div",{className:"form-hint",children:"At least 6 characters"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password"}),l.jsx("input",{type:"password",id:"confirm-password",value:o,onChange:M=>a(M.target.value),placeholder:"Confirm your password",className:"form-input",disabled:c})]}),v&&l.jsx("div",{className:"error-message",children:v}),w&&l.jsx("div",{className:"success-message",children:w}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"submit",className:"register-button",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"loading-spinner"}),"Creating Account..."]}):"Create Account"}),l.jsx("button",{type:"button",className:"back-button",onClick:t,disabled:c,children:"Back to Login"})]})]})]})]})};function sm(){const e=()=>{const C=localStorage.getItem("heroCallVictoryPoints");return C?parseInt(C,10):0},[t,n]=D.useState({gameState:null,playerId:null,playerName:"",isConnected:!1,error:null,allHeroes:[],initiativeData:null,battleLog:[],victoryPoints:e(),showSurvival:!1,isSurvivalMode:!1,survivalTeam:[],isTransitioningToBattle:!1,survivalWins:0,survivalLosses:0,user:null,showLogin:!0,showRegister:!1}),[r,s]=D.useState(!1),[i,o]=D.useState(!1),[a,c]=D.useState(null),g=D.useRef(null);D.useEffect(()=>{localStorage.setItem("heroCallVictoryPoints",t.victoryPoints.toString())},[t.victoryPoints]),D.useEffect(()=>{if(t.user){const C=`http://localhost:3001/api/heroes?userId=${t.user.id}`;fetch(C).then(f=>f.json()).then(f=>{n(j=>({...j,allHeroes:f}))}).catch(f=>console.error("Failed to load heroes:",f))}},[t.user]),D.useEffect(()=>{if(!t.user)return;const C=ee.connect();return ee.authenticate(t.user.id),C.on("join-result",f=>{console.log(" Join result received:",f),f.success?f.mode==="survival"?(console.log(" Joined survival queue, waiting for opponent..."),n(j=>({...j,playerId:f.playerId,isConnected:!0,error:null})),f.gameReady||s(!0)):(console.log(` Regular mode join - gameReady: ${f.gameReady}, players: ${f.players.length}`),n(j=>({...j,playerId:f.playerId,gameState:{id:f.gameId,phase:"waiting",players:f.players,currentTurn:0,currentDraftPhase:0,draftTurn:0,winner:null,draftCards:f.draftCards},isConnected:!0,error:null})),f.gameReady?(console.log(" Game ready! Clearing search state"),o(!1),c(null)):console.log(" Game not ready, keeping search state active")):(n(j=>({...j,error:"Failed to join game"})),o(!1),c(null))}),C.on("survival-search-cancelled",f=>{f.success&&(s(!1),n(j=>({...j,isSurvivalMode:!1,survivalTeam:[],gameState:null,error:null})))}),C.on("friendly-room-created",f=>{f.success?n(j=>({...j,playerId:f.playerId,gameState:{id:f.gameId,phase:"waiting",players:[],currentTurn:0,currentDraftPhase:0,draftTurn:0,winner:null},isConnected:!0,error:null})):n(j=>({...j,error:f.message||"Failed to create room"}))}),C.on("friendly-room-joined",f=>{f.success?n(j=>({...j,playerId:f.playerId,gameState:{id:f.gameId,phase:"waiting",players:f.players,currentTurn:0,currentDraftPhase:0,draftTurn:0,winner:null},isConnected:!0,error:null})):n(j=>({...j,error:f.message||"Failed to join room"}))}),C.on("game-start",f=>{s(!1),o(!1),c(null),f.gameState?(console.log(" Game starting with state:",f.gameState.phase),console.log(" Game data received:",f),n(j=>(console.log(" Current state before update:"),console.log("  - isSurvivalMode:",j.isSurvivalMode),console.log("  - survivalTeam:",j.survivalTeam.map(S=>S.name)),console.log("  - showSurvival:",j.showSurvival),console.log("  - isTransitioningToBattle:",j.isTransitioningToBattle),j.isSurvivalMode&&j.survivalTeam.length>0?(console.log(" Starting survival battle transition!"),console.log(" Team going into transition:",j.survivalTeam.map(S=>S.name)),{...j,isTransitioningToBattle:!0,gameState:f.gameState||j.gameState,initiativeData:f.initiative||null}):(console.log(" Direct battle start (not survival mode)"),{...j,gameState:f.gameState||j.gameState})))):(console.log(" Starting draft mode"),n(j=>({...j,gameState:j.gameState?{...j.gameState,phase:"draft",players:f.players,draftCards:f.draftCards}:null})))}),C.on("ban-complete",f=>{console.log("Received ban-complete:",f),n(j=>{console.log("Previous game state:",j.gameState);const S={...j,gameState:f.gameState||(j.gameState?{...j.gameState,currentDraftPhase:f.currentDraftPhase,draftTurn:f.draftTurn,draftCards:f.draftCards||j.gameState.draftCards}:null)};return console.log("New game state:",S.gameState),S})}),C.on("pick-complete",f=>{console.log("Pick complete data:",f),n(j=>{const S={...j,gameState:f.gameState||(j.gameState?{...j.gameState,phase:f.phase,currentDraftPhase:f.currentDraftPhase,draftTurn:f.draftTurn,draftCards:f.draftCards||j.gameState.draftCards}:null),initiativeData:f.initiative||null};return console.log("Pick complete new state:",S.gameState),f.initiative&&console.log("Initiative data received:",f.initiative),S})}),C.on("attack-order-set",f=>{n(j=>({...j,gameState:f.gameState||j.gameState}))}),C.on("initiative-rolled",f=>{n(j=>({...j,gameState:j.gameState?{...j.gameState,players:j.gameState.players.map(S=>S.id===t.playerId?{...S,initiativeRoll:f.roll}:S)}:null}))}),C.on("battle-start",f=>{n(j=>({...j,gameState:f.gameState}))}),C.on("attack-result",f=>{n(j=>{const S=[];if(f.monkDeflected){const p={id:Date.now().toString(),timestamp:Date.now(),action:`${f.deflectingMonk} deflected attack on ${f.target}`,damage:f.deflectCounterDamage,hit:!0,crit:!1,attacker:f.deflectingMonk,target:f.attacker,deflected:!0};S.push(p)}else{const p={id:Date.now().toString(),timestamp:Date.now(),action:"Basic Attack",damage:f.damage,hit:f.hit,crit:f.isCritical,attacker:f.attacker,target:f.target,attackRoll:f.attackRoll,attackTotal:f.attackTotal,advantageInfo:f.advantageInfo,damageRoll:f.damageRoll,damageTotal:f.damageTotal,roll:f.roll||f.attackRoll,total:f.total||f.attackTotal};S.push(p)}return f.statusEffects&&f.statusEffects.length>0&&f.statusEffects.forEach((p,_)=>{if(p.type==="counter_attack"){const b={id:`${Date.now()}-counter-${_}`,timestamp:Date.now()+_+1,action:`${p.defender} Shield Bashed ${p.attacker}`,damage:p.damage,hit:!0,crit:!1,attacker:p.defender,target:p.attacker,damageRoll:p.damageRoll,damageTotal:p.damage};S.push(b)}}),f.deathTriggerEffects&&f.deathTriggerEffects.length>0&&f.deathTriggerEffects.forEach((p,_)=>{let b="",u=0;switch(p.type){case"special_damage":b=`${p.caster}'s ${p.specialName} deals damage to ${p.target}`,u=p.damage;break;default:b=`${p.caster}'s ${p.specialName} activates`}if(b){const y={id:`${Date.now()}-death-${_}`,timestamp:Date.now()+_+2,action:b,damage:u,hit:!0,crit:!1,attacker:p.caster,target:p.target,damageRoll:p.damageRoll};S.push(y)}}),{...j,gameState:f.gameState||j.gameState,battleLog:[...S,...j.battleLog.slice(0,10-S.length)]}})}),C.on("ability-result",f=>{n(j=>{const S=[];if(f.results&&f.results.some(p=>p.type==="ability_selection_required")){const p=f.results.find(_=>_.type==="ability_selection_required");return{...j,timekeeperAbilitySelection:{ally:p.ally,target:p.timekeeperTarget,availableAbilities:p.availableAbilities},gameState:f.gameState||j.gameState}}if(f.results&&f.results.length>0)f.results.forEach((p,_)=>{let b="",u="";switch(p.type){case"damage":b=p.hit?`${f.ability} deals damage to ${p.target}`:`${f.ability} misses ${p.target}`,u=p.target;break;case"lifesteal_damage":b=p.hit?`${f.ability} deals damage and heals from ${p.target}`:`${f.ability} misses ${p.target}`,u=p.target;break;case"heal":b=`${f.ability} heals ${p.target}`,u=p.target;break;case"status_applied":p.effect==="damage_stack"?b=`${f.ability} grants ${f.caster} 1 stack of ${p.effect}`:p.effect==="taunt"?b=`${f.ability} taunts ${p.target}`:p.effect==="silence"?b=`${f.ability} silences ${p.target}`:p.effect==="poison"?b=`${f.ability} poisons ${p.target}`:b=`${f.ability} applies ${p.effect} to ${p.target}`,u=p.target;break;case"status_missed":b=`${f.ability} fails to apply ${p.effect} to ${p.target}`,u=p.target;break;case"apply_debuff":b=p.hit?`${f.ability} applies ${p.effect} to ${p.target}`:`${f.ability} fails to apply ${p.effect} to ${p.target}`,u=p.target;break;case"apply_buff":p.effect==="damage_stack"?b=p.hit?`${f.ability} grants ${f.caster} 1 stack of ${p.effect}`:`${f.ability} fails to apply effect`:b=p.hit?`${f.ability} applies ${p.effect} to ${p.target}`:`${f.ability} fails to apply ${p.effect} to ${p.target}`,u=p.target;break;case"recoil_damage":b=p.hit?`${f.ability} causes recoil`:`${f.ability} misses (no recoil)`,u=p.target;break;case"twin_spell_activated":b=p.message||`${f.caster} used Twin Spell`,u="";break;case"miss":b=p.message||`${f.caster}'s ${f.ability} missed ${p.target}`,u=p.target;break;default:b=f.ability||"Ability",u=f.target}const y={id:`${Date.now()}-${_}`,timestamp:Date.now()+_,action:b,...p.damage!==void 0&&{damage:p.damage},...p.healing!==void 0&&p.healing>0&&{healing:p.healing},hit:p.hit??p.type!=="miss",crit:p.isCritical||!1,attacker:f.caster,target:u,attackRoll:p.attackRoll,attackTotal:p.attackTotal,advantageInfo:p.advantageInfo,damageRoll:p.damageRoll,damageTotal:p.damageTotal,healRoll:p.healRoll,roll:p.roll||p.attackRoll,total:p.total||p.attackTotal,abilityName:f.ability};S.push(y)});else{const p={id:Date.now().toString(),timestamp:Date.now(),action:f.ability||"Ability",hit:!1,attacker:f.caster,target:f.target,abilityName:f.ability};S.push(p)}return f.deathTriggerEffects&&f.deathTriggerEffects.length>0&&f.deathTriggerEffects.forEach((p,_)=>{let b="",u=0;switch(p.type){case"special_damage":b=`${p.caster}'s ${p.specialName} deals damage to ${p.target}`,u=p.damage;break;default:b=`${p.caster}'s ${p.specialName} activates`}if(b){const y={id:`${Date.now()}-death-ability-${_}`,timestamp:Date.now()+_+100,action:b,damage:u,hit:!0,crit:!1,attacker:p.caster,target:p.target,damageRoll:p.damageRoll};S.push(y)}}),{...j,gameState:f.gameState||j.gameState,battleLog:[...S.reverse(),...j.battleLog.slice(0,9-S.length)]}})}),C.on("target-selected",f=>{console.log(" Target selected response from server:",f),n(j=>({...j,gameState:f.gameState||j.gameState}))}),C.on("turn-ended",f=>{n(j=>{var b;const S=[];f.endTurnEffects&&f.endTurnEffects.length>0&&f.endTurnEffects.forEach((u,y)=>{let N="",H="",W=0,Z=0;switch(u.type){case"druid_healing":N=`${u.caster}'s Healing Word heals ${u.target}`,H=u.target,Z=u.healing;break;case"special_damage":N=`${u.caster}'s ${u.specialName} deals damage to ${u.target}`,H=u.target,W=u.damage;break;case"special_heal":N=`${u.caster}'s ${u.specialName} heals ${u.target}`,H=u.target,Z=u.healing;break;case"special_taunt":N=`${u.caster}'s ${u.specialName} taunts ${u.target}${u.taunted_to?` to target ${u.taunted_to}`:""}`,H=u.target;break;case"special_debuff":N=`${u.caster}'s ${u.specialName} applies ${u.effect} to ${u.target}`,H=u.target;break;case"special_buff":N=`${u.caster}'s ${u.specialName} applies ${u.effect} to ${u.target}`,H=u.target;break;case"monk_deflect":N=`${u.caster}'s Deflect protects ${u.protectedTarget} and counters ${u.target}`,H=u.target,W=u.damage;break;case"summon":N=`${u.caster} summons a Beast!`,H="";break;case"attack_roll":N="";break;case"miss":N=u.message||`${u.caster}'s attack misses ${u.target}!`,H=u.target;break;case"poison_damage":N=`${u.target} is poisoned for ${u.damage} damage`,H=u.target,W=u.damage;break;case"monk_deflect_counter":u.abilityName?N=`${u.caster} COUNTERED ${u.target}'s "${u.abilityName}" and dealt ${u.damage} damage`:N=`${u.caster} COUNTERED ${u.target}'s attack and dealt ${u.damage} damage`,H=u.target,W=u.damage;break;default:N=`${u.caster||"Unknown"} used special ability`,H=u.target||""}if(N){const G={id:`${Date.now()}-special-${y}`,timestamp:Date.now()+y,action:N,...W>0&&{damage:W},...Z>0&&{healing:Z},hit:!0,crit:!1,attacker:u.caster,target:H};S.push(G)}}),f.turnStartEffects&&f.turnStartEffects.length>0&&f.turnStartEffects.forEach((u,y)=>{let N="",H=0,W=0;switch(u.type){case"special_damage":N=`${u.specialName} dealt ${u.damage} damage to all other heroes`,H=u.damage;break;default:N=`${u.caster||"Unknown"} used ${u.specialName||"special ability"}`}if(N){const Z={id:`${Date.now()}-turn-start-${y}`,timestamp:Date.now()+y+1e3,action:N,...H>0&&{damage:H},...W>0,hit:!0,crit:!1,attacker:u.caster,target:u.target||"all others"};S.push(Z)}});let p=j.victoryPoints;const _=f.gameState||j.gameState;return console.log(" Turn check:",{hasUpdatedGameState:!!_,updatedWinner:_==null?void 0:_.winner,hasPrevGameState:!!j.gameState,prevWinner:(b=j.gameState)==null?void 0:b.winner,playerId:j.playerId,isSurvivalMode:j.isSurvivalMode}),_&&_.winner&&j.gameState&&!j.gameState.winner&&(_.winner===j.playerId?j.isSurvivalMode?(console.log(" Survival Victory! Backend will handle survival state update."),g.current=window.setTimeout(()=>{n(u=>({...u,showSurvival:!0,gameState:null,survivalTeam:[],battleLog:[],initiativeData:null})),g.current=null},3e3)):(p=j.victoryPoints+1,console.log(" Victory! Awarded 1 Victory Point. Total:",p)):j.isSurvivalMode&&(console.log(" Survival Defeat! Backend will handle survival state update."),g.current=window.setTimeout(()=>{n(u=>({...u,showSurvival:!0,gameState:null,survivalTeam:[],battleLog:[],initiativeData:null})),g.current=null},3e3))),{...j,gameState:_,victoryPoints:p,...S.length>0&&{battleLog:[...S,...j.battleLog.slice(0,10-S.length)]}}})}),C.on("auto-draft-complete",f=>{n(j=>({...j,gameState:f.gameState,error:null}))}),C.on("game-surrendered",f=>{console.log(" Game surrendered:",f),n(j=>({...j,gameState:f.gameState}))}),C.on("error",f=>{console.log(" Server error:",f),n(j=>({...j,error:f.message}))}),C.on("connect",()=>{n(f=>({...f,isConnected:!0}))}),C.on("disconnect",()=>{n(f=>({...f,isConnected:!1}))}),C.on("returned-to-lobby",f=>{console.log(" Returned to lobby response:",f),f.success?(console.log(" Successfully returned to lobby"),f.preservedSurvivalState&&console.log(" Survival state preserved:",f.preservedSurvivalState)):console.error(" Failed to return to lobby:",f.error)}),C.on("survival-state-response",f=>{console.log(" Received survival state from server:",f.state),n(j=>({...j,survivalWins:f.state.wins,survivalLosses:f.state.losses}))}),C.on("survival-state-update",f=>{console.log(" Received survival state update:",f.type,f.state),n(j=>({...j,survivalWins:f.state.wins,survivalLosses:f.state.losses}))}),C.on("authentication-success",f=>{console.log("Socket authentication successful for user:",f.userId),ee.getSurvivalState()}),C.on("authentication-failed",f=>{console.error("Socket authentication failed:",f.message),f.message.includes("already logged in")?(alert(` Multiple Sessions Detected

`+f.message),L()):n(j=>({...j,error:f.message||"Authentication failed"}))}),C.on("force-logout",f=>{console.log("Force logout received:",f.message),alert(f.message),L()}),()=>{ee.disconnect()}},[t.user]);const v=C=>{var j;const f=((j=t.user)==null?void 0:j.username)||"Anonymous";console.log(` Starting ${C} mode search for player: ${f}`),n(S=>({...S,playerName:f})),o(!0),c(C),ee.joinGame(f,C)},x=(C,f)=>{var S;const j=((S=t.user)==null?void 0:S.username)||"Anonymous";n(p=>({...p,playerName:j})),C==="create"?ee.createFriendlyRoom(f,j):ee.joinFriendlyRoom(f,j)},w=()=>{n(C=>({...C,showSurvival:!0}))},E=(C=!1)=>{g.current&&(window.clearTimeout(g.current),g.current=null),console.log(" Return to lobby requested, forceMainLobby:",C),ee.returnToLobby(),n(f=>C||!f.isSurvivalMode?(console.log(" Return to main lobby from battle"),{...f,showSurvival:!1,isSurvivalMode:!1,survivalTeam:[],gameState:null,battleLog:[],initiativeData:null}):(console.log(" Manual return to survival mode from battle"),{...f,showSurvival:!0,gameState:null,survivalTeam:[],battleLog:[],initiativeData:null}))},T=C=>{var j;console.log("Survival team selected:",C.map(S=>S.name));const f=((j=t.user)==null?void 0:j.username)||"Anonymous";n(S=>({...S,playerName:f,isSurvivalMode:!0,survivalTeam:C})),s(!0),ee.joinSurvivalGame(f,C)},P=()=>{ee.cancelSurvivalSearch(),s(!1),n(C=>({...C,isSurvivalMode:!1,survivalTeam:[]}))},M=()=>{ee.cancelSearch(),o(!1),c(null),n(C=>({...C,gameState:null,playerId:null,playerName:"",error:null}))},h=C=>{n(f=>({...f,user:C,showLogin:!1,showRegister:!1,victoryPoints:C.victory_points}))},d=()=>{n(C=>({...C,showLogin:!1,showRegister:!0}))},m=()=>{n(C=>({...C,showLogin:!0,showRegister:!1}))},k=()=>{n(C=>({...C,showLogin:!0,showRegister:!1}))},L=async()=>{const C=t.user;if(n(f=>({...f,user:null,showLogin:!0,showRegister:!1,gameState:null,showSurvival:!1,isSurvivalMode:!1,survivalTeam:[],victoryPoints:0})),C)try{await fetch("http://localhost:3001/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:C.id})})}catch(f){console.error("Logout API call failed:",f)}ee.disconnect(),s(!1)},$=()=>!t.gameState||!t.playerId?null:t.gameState.players.find(f=>f.id===t.playerId)||null,O=()=>!t.gameState||!t.playerId?null:t.gameState.players.find(f=>f.id!==t.playerId)||null,B=()=>{var j,S;if(!t.user)return t.showRegister?l.jsx(rm,{onRegisterSuccess:m,onBackToLogin:k}):l.jsx(nm,{onLogin:h,onShowRegister:d});if(console.log(" renderGameContent called with:"),console.log("  - showSurvival:",t.showSurvival),console.log("  - gameState?.phase:",(j=t.gameState)==null?void 0:j.phase),console.log("  - initiativeData:",t.initiativeData),console.log("  - isTransitioningToBattle:",t.isTransitioningToBattle),t.showSurvival)return l.jsx(em,{onReturnToLobby:E,onStartBattle:T,onCancelSearch:P,isSearchingForMatch:r,user:t.user});if(!t.gameState||t.gameState.phase==="waiting")return l.jsx(Zp,{onStartGame:v,onStartFriendlyGame:x,onStartSurvival:w,victoryPoints:t.victoryPoints,user:t.user,onLogout:L,isSearching:i||((S=t.gameState)==null?void 0:S.phase)==="waiting",searchMode:a,onCancelSearch:M,gameState:t.gameState});const C=$(),f=O();if(!C)return l.jsx("div",{children:"Loading..."});switch(t.gameState.phase){case"draft":case"setup":return l.jsx(Gp,{gameState:t.gameState,currentPlayer:C,opponent:f,allHeroes:t.allHeroes});case"initiative":return l.jsxs("div",{className:"initiative-with-background",children:[l.jsx(Qa,{gameState:t.gameState,currentPlayer:C,opponent:f,playerId:t.playerId,onReturnToLobby:E,isSurvivalMode:t.isSurvivalMode,timekeeperAbilitySelection:t.timekeeperAbilitySelection,onClearTimekeeperSelection:()=>n(p=>({...p,timekeeperAbilitySelection:void 0}))}),l.jsx("div",{className:"initiative-overlay",children:t.initiativeData&&t.initiativeData.needsChoice?l.jsxs("div",{className:"initiative-choice",children:[l.jsx("h2",{children:"Starting Roll!"}),l.jsxs("div",{className:"initiative-results",children:[l.jsxs("div",{className:"player-roll",children:[l.jsxs("strong",{children:[C.name,":"]})," ",t.initiativeData.rolls.player1]}),l.jsxs("div",{className:"player-roll",children:[l.jsxs("strong",{children:[f==null?void 0:f.name,":"]})," ",t.initiativeData.rolls.player2]})]}),t.initiativeData.winner===t.playerId?l.jsxs("div",{className:"winner-choice",children:[l.jsx("h3",{children:" You won the starting roll!"}),l.jsx("p",{children:"Choose whether you want to go first or second:"}),l.jsxs("div",{className:"choice-buttons",children:[l.jsx("button",{className:"action-button",onClick:()=>ee.chooseTurnOrder(!0),children:"Go First"}),l.jsx("button",{className:"action-button",onClick:()=>ee.chooseTurnOrder(!1),children:"Go Second"})]})]}):l.jsxs("div",{className:"waiting-choice",children:[l.jsx("h3",{children:"Your opponent won the starting roll"}),l.jsx("p",{children:"Waiting for them to choose turn order..."})]})]}):l.jsxs("div",{className:"initiative-loading",children:[l.jsx("h2",{children:"Rolling for Starting Order..."}),l.jsx("p",{children:"Determining turn order..."}),l.jsxs("div",{className:"loading-dots",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]})})]});case"battle":case"ended":return l.jsx(Qa,{gameState:t.gameState,currentPlayer:C,opponent:f,playerId:t.playerId,onReturnToLobby:E,isSurvivalMode:t.isSurvivalMode,timekeeperAbilitySelection:t.timekeeperAbilitySelection,onClearTimekeeperSelection:()=>n(p=>({...p,timekeeperAbilitySelection:void 0}))});default:return l.jsxs("div",{children:["Unknown game phase: ",t.gameState.phase]})}},U=C=>{if(!C.attackRoll||!C.attackTotal)return null;if(C.attackRoll&&C.isTimekeeperCommand)return l.jsxs("span",{className:"roll-info timekeeper-command",children:[" ","(Commanded by ",C.commandingHero," - Auto-hit",C.crit?" with CRITICAL!":"",")"]});if(C.advantageInfo){const{type:f,roll1:j,roll2:S,chosen:p}=C.advantageInfo;return l.jsxs("span",{className:"roll-info",children:[" ","(",f,":",l.jsx("span",{className:j===p?"advantage-chosen":"",children:j})," ","and"," ",l.jsx("span",{className:S===p?"advantage-chosen":"",children:S}),", chose ",p,"+",C.attackTotal-C.attackRoll," = ",C.attackTotal,")"]})}return l.jsxs("span",{className:"roll-info",children:[" ","(attack: ",C.attackRoll,"+",C.attackTotal-C.attackRoll," = ",C.attackTotal,")"]})},Q=()=>{var j;if(!t.gameState||t.isTransitioningToBattle||t.gameState.phase==="waiting")return null;const C=$(),f=O();return l.jsxs("aside",{className:"game-sidebar",children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsx("h2",{children:"Hero's Call"}),!t.isConnected&&l.jsx("div",{className:"connection-status",children:"Connecting..."})]}),t.isSurvivalMode&&l.jsx("div",{className:"survival-info",children:l.jsxs("div",{className:"survival-stats",children:[l.jsxs("div",{className:"survival-wins",children:[" Wins: ",t.survivalWins]}),l.jsxs("div",{className:"survival-losses",children:[" Losses: ",t.survivalLosses]})]})}),l.jsxs("div",{className:"game-info",children:[t.gameState.phase==="draft"&&l.jsxs("div",{className:"draft-info",children:[l.jsxs("h3",{children:["Draft - Round ",t.gameState.currentDraftPhase,"/3"]}),C&&l.jsx("div",{className:"turn-status",children:(((j=C.team)==null?void 0:j.length)||0)<t.gameState.currentDraftPhase?" Your turn to pick":" Waiting for opponent"})]}),t.gameState.phase==="setup"&&l.jsxs("div",{className:"setup-info",children:[l.jsx("h3",{children:"Setup Phase"}),l.jsx("div",{className:"setup-status",children:"Set your attack order"})]}),t.gameState.phase==="initiative"&&t.initiativeData&&l.jsxs("div",{className:"initiative-info",children:[l.jsx("h3",{children:"Choose Turn Order"}),t.initiativeData.winner===t.playerId?l.jsx("div",{className:"initiative-winner",children:" You won the starting roll!"}):l.jsx("div",{className:"initiative-waiting",children:"Opponent chooses turn order"})]}),t.gameState.phase==="battle"&&l.jsxs("div",{className:"battle-combined-info",children:[l.jsx("h3",{children:"Battle"}),C&&f&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"turn-info",children:(()=>{const S=t.gameState.players.findIndex(p=>p.id===t.playerId);return t.gameState.currentTurn===S?l.jsx("div",{className:"current-turn",children:" Your Turn"}):l.jsx("div",{className:"opponent-turn",children:" Opponent's Turn"})})()}),C.team&&C.team[C.currentHeroIndex||0]&&l.jsxs("div",{className:"active-hero",children:[l.jsx("h4",{children:"Active Hero"}),l.jsx("div",{className:"hero-name",children:C.team[C.currentHeroIndex||0].name}),l.jsxs("div",{className:"hero-hp",children:["HP: ",C.team[C.currentHeroIndex||0].currentHP,"/",C.team[C.currentHeroIndex||0].HP]})]}),l.jsxs("div",{className:"battle-log-section",children:[l.jsx("h4",{children:"Battle Log"}),l.jsx("div",{className:"log-entries",children:t.battleLog.length>0?t.battleLog.map(S=>{var p,_,b,u,y,N;return l.jsxs("div",{className:"log-entry",children:[l.jsxs("div",{className:"log-action",children:[l.jsx("strong",{children:S.attacker})," used ",S.action,U(S)]}),l.jsx("div",{className:"log-result",children:(p=S.action)!=null&&p.includes("Twin Spell")?l.jsx("span",{className:"special-ability",children:" Twin Spell activated! Casting again..."}):(_=S.action)!=null&&_.includes("heals")?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"heal",children:["Healed for ",S.healing," HP"]}),S.healRoll&&S.healRoll.length>0&&l.jsxs("span",{className:"heal-roll-info",children:[" (healing: ",S.healRoll.join("+")," = ",S.healing,")"]})]}):(b=S.action)!=null&&b.includes("stack")?l.jsx("span",{className:"buff",children:"Effect applied successfully"}):(u=S.action)!=null&&u.includes("applies")||(y=S.action)!=null&&y.includes("grants")?l.jsx("span",{className:"status",children:"Status effect applied"}):S.hit?l.jsxs(l.Fragment,{children:[S.crit&&l.jsx("span",{className:"crit",children:"CRITICAL HIT! "}),S.damage!==void 0&&l.jsxs("span",{className:"hit",children:["Hit ",S.target," for ",S.damage," damage"]}),S.damageRoll&&S.damageRoll.length>0&&l.jsxs("span",{className:"damage-roll-info",children:[" (damage: ",S.damageRoll.join("+")," = ",S.damage,")"]}),S.healing&&S.healing>0&&l.jsxs("span",{className:"heal",children:[(N=S.action)!=null&&N.includes("deals damage and heals")?" and lifestole":" and healed for"," ",S.healing," HP"]})]}):l.jsxs("span",{className:"miss",children:["Missed ",S.target]})})]},S.id)}):l.jsx("div",{className:"log-placeholder",children:"Battle actions will appear here"})})]})]})]})]})]})};return l.jsxs("div",{className:"App",children:[l.jsxs("div",{className:"app-layout",style:{display:t.isTransitioningToBattle?"none":"flex"},children:[Q(),l.jsx("main",{className:"game-content",children:B()})]}),t.isTransitioningToBattle&&l.jsx(tm,{selectedTeam:t.survivalTeam,onTransitionComplete:()=>{console.log(" Transition complete - switching to battle"),n(C=>{var f;return console.log(" Transition complete state check:"),console.log("  - gameState.phase:",(f=C.gameState)==null?void 0:f.phase),console.log("  - initiativeData:",C.initiativeData),console.log("  - gameState:",C.gameState),{...C,isTransitioningToBattle:!1,showSurvival:!1}})}})]})}Pi.createRoot(document.getElementById("root")).render(l.jsx(Md.StrictMode,{children:l.jsx(sm,{})}));
